// https://github.com/johnwalley/d3-bumps-chart/ Version 0.10.1. Copyright 2018 John Walley.
!function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define([ "exports" ], e) : e(t.d3 = t.d3 || {});
}(this, function(t) {
    "use strict";
    function e(t, e) {
        return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
    }
    function n(t, e, n) {
        t = +t, e = +e, n = (i = arguments.length) < 2 ? (e = t, t = 0, 1) : i < 3 ? 1 : +n;
        for (var r = -1, i = 0 | Math.max(0, Math.ceil((e - t) / n)), a = new Array(i); ++r < i; ) a[r] = t + r * n;
        return a;
    }
    function r(t, e, n) {
        var r = (e - t) / Math.max(0, n), i = Math.floor(Math.log(r) / Math.LN10), a = r / Math.pow(10, i);
        return i >= 0 ? (a >= Jr ? 10 : a >= Zr ? 5 : a >= Kr ? 2 : 1) * Math.pow(10, i) : -Math.pow(10, -i) / (a >= Jr ? 10 : a >= Zr ? 5 : a >= Kr ? 2 : 1);
    }
    function i(t, e) {
        var n, r, i = t.length, a = -1;
        if (null == e) {
            for (;++a < i; ) if (null != (n = t[a]) && n >= n) for (r = n; ++a < i; ) null != (n = t[a]) && n > r && (r = n);
        } else for (;++a < i; ) if (null != (n = e(t[a], a, t)) && n >= n) for (r = n; ++a < i; ) null != (n = e(t[a], a, t)) && n > r && (r = n);
        return r;
    }
    function a(t, e) {
        var n, r, i = t.length, a = -1;
        if (null == e) {
            for (;++a < i; ) if (null != (n = t[a]) && n >= n) for (r = n; ++a < i; ) null != (n = t[a]) && r > n && (r = n);
        } else for (;++a < i; ) if (null != (n = e(t[a], a, t)) && n >= n) for (r = n; ++a < i; ) null != (n = e(t[a], a, t)) && r > n && (r = n);
        return r;
    }
    function o() {}
    function u(t, e) {
        var n = new o();
        if (t instanceof o) t.each(function(t, e) {
            n.set(e, t);
        }); else if (Array.isArray(t)) {
            var r, i = -1, a = t.length;
            if (null == e) for (;++i < a; ) n.set(i, t[i]); else for (;++i < a; ) n.set(e(r = t[i], i, t), r);
        } else if (t) for (var u in t) n.set(u, t[u]);
        return n;
    }
    function f() {}
    function c(t, e, n) {
        t.prototype = e.prototype = n, n.constructor = t;
    }
    function s(t, e) {
        var n = Object.create(t.prototype);
        for (var r in e) n[r] = e[r];
        return n;
    }
    function l() {}
    function h(t) {
        var e;
        return t = (t + "").trim().toLowerCase(), (e = ui.exec(t)) ? (e = parseInt(e[1], 16), 
        new y(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e, 1)) : (e = fi.exec(t)) ? d(parseInt(e[1], 16)) : (e = ci.exec(t)) ? new y(e[1], e[2], e[3], 1) : (e = si.exec(t)) ? new y(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, 1) : (e = li.exec(t)) ? p(e[1], e[2], e[3], e[4]) : (e = hi.exec(t)) ? p(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = di.exec(t)) ? b(e[1], e[2] / 100, e[3] / 100, 1) : (e = pi.exec(t)) ? b(e[1], e[2] / 100, e[3] / 100, e[4]) : vi.hasOwnProperty(t) ? d(vi[t]) : "transparent" === t ? new y(NaN, NaN, NaN, 0) : null;
    }
    function d(t) {
        return new y(t >> 16 & 255, t >> 8 & 255, 255 & t, 1);
    }
    function p(t, e, n, r) {
        return r <= 0 && (t = e = n = NaN), new y(t, e, n, r);
    }
    function v(t) {
        return t instanceof l || (t = h(t)), t ? (t = t.rgb(), new y(t.r, t.g, t.b, t.opacity)) : new y();
    }
    function g(t, e, n, r) {
        return 1 === arguments.length ? v(t) : new y(t, e, n, null == r ? 1 : r);
    }
    function y(t, e, n, r) {
        this.r = +t, this.g = +e, this.b = +n, this.opacity = +r;
    }
    function b(t, e, n, r) {
        return r <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN), 
        new m(t, e, n, r);
    }
    function m(t, e, n, r) {
        this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;
    }
    function _(t, e, n) {
        return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e);
    }
    function w(t) {
        if (t instanceof x) return new x(t.l, t.a, t.b, t.opacity);
        if (t instanceof A) {
            var e = t.h * gi;
            return new x(t.l, Math.cos(e) * t.c, Math.sin(e) * t.c, t.opacity);
        }
        t instanceof y || (t = v(t));
        var n = T(t.r), r = T(t.g), i = T(t.b), a = M((.4124564 * n + .3575761 * r + .1804375 * i) / bi), o = M((.2126729 * n + .7151522 * r + .072175 * i) / mi);
        return new x(116 * o - 16, 500 * (a - o), 200 * (o - M((.0193339 * n + .119192 * r + .9503041 * i) / _i)), t.opacity);
    }
    function x(t, e, n, r) {
        this.l = +t, this.a = +e, this.b = +n, this.opacity = +r;
    }
    function M(t) {
        return t > Ci ? Math.pow(t, 1 / 3) : t / Mi + wi;
    }
    function C(t) {
        return t > xi ? t * t * t : Mi * (t - wi);
    }
    function S(t) {
        return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055);
    }
    function T(t) {
        return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4);
    }
    function A(t, e, n, r) {
        this.h = +t, this.c = +e, this.l = +n, this.opacity = +r;
    }
    function j(t, e, n, r) {
        return 1 === arguments.length ? function(t) {
            if (t instanceof k) return new k(t.h, t.s, t.l, t.opacity);
            t instanceof y || (t = v(t));
            var e = t.r / 255, n = t.g / 255, r = t.b / 255, i = (Ei * r + ji * e - ki * n) / (Ei + ji - ki), a = r - i, o = (Ai * (n - i) - Si * a) / Ti, u = Math.sqrt(o * o + a * a) / (Ai * i * (1 - i)), f = u ? Math.atan2(o, a) * yi - 120 : NaN;
            return new k(f < 0 ? f + 360 : f, u, i, t.opacity);
        }(t) : new k(t, e, n, null == r ? 1 : r);
    }
    function k(t, e, n, r) {
        this.h = +t, this.s = +e, this.l = +n, this.opacity = +r;
    }
    function E(t) {
        return function() {
            return t;
        };
    }
    function N(t, e) {
        return function(n) {
            return t + n * e;
        };
    }
    function D(t) {
        return 1 == (t = +t) ? O : function(e, n) {
            return n - e ? function(t, e, n) {
                return t = Math.pow(t, n), e = Math.pow(e, n) - t, n = 1 / n, function(r) {
                    return Math.pow(t + r * e, n);
                };
            }(e, n, t) : E(isNaN(e) ? n : e);
        };
    }
    function O(t, e) {
        var n = e - t;
        return n ? N(t, n) : E(isNaN(t) ? e : t);
    }
    function P(t, e) {
        return t = +t, e -= t, function(n) {
            return t + e * n;
        };
    }
    function U(t, e) {
        var n, r, i, a = Hi.lastIndex = Ii.lastIndex = 0, o = -1, u = [], f = [];
        for (t += "", e += ""; (n = Hi.exec(t)) && (r = Ii.exec(e)); ) (i = r.index) > a && (i = e.slice(a, i), 
        u[o] ? u[o] += i : u[++o] = i), (n = n[0]) === (r = r[0]) ? u[o] ? u[o] += r : u[++o] = r : (u[++o] = null, 
        f.push({
            i: o,
            x: P(n, r)
        })), a = Ii.lastIndex;
        return a < e.length && (i = e.slice(a), u[o] ? u[o] += i : u[++o] = i), u.length < 2 ? f[0] ? function(t) {
            return function(e) {
                return t(e) + "";
            };
        }(f[0].x) : function(t) {
            return function() {
                return t;
            };
        }(e) : (e = f.length, function(t) {
            for (var n, r = 0; r < e; ++r) u[(n = f[r]).i] = n.x(t);
            return u.join("");
        });
    }
    function H(t, e) {
        var n, r = typeof e;
        return null == e || "boolean" === r ? E(e) : ("number" === r ? P : "string" === r ? (n = h(e)) ? (e = n, 
        Ui) : U : e instanceof h ? Ui : e instanceof Date ? function(t, e) {
            var n = new Date();
            return t = +t, e -= t, function(r) {
                return n.setTime(t + e * r), n;
            };
        } : Array.isArray(e) ? function(t, e) {
            var n, r = e ? e.length : 0, i = t ? Math.min(r, t.length) : 0, a = new Array(i), o = new Array(r);
            for (n = 0; n < i; ++n) a[n] = H(t[n], e[n]);
            for (;n < r; ++n) o[n] = e[n];
            return function(t) {
                for (n = 0; n < i; ++n) o[n] = a[n](t);
                return o;
            };
        } : "function" != typeof e.valueOf && "function" != typeof e.toString || isNaN(e) ? function(t, e) {
            var n, r = {}, i = {};
            null !== t && "object" == typeof t || (t = {}), null !== e && "object" == typeof e || (e = {});
            for (n in e) n in t ? r[n] = H(t[n], e[n]) : i[n] = e[n];
            return function(t) {
                for (n in r) i[n] = r[n](t);
                return i;
            };
        } : P)(t, e);
    }
    function I(t, e) {
        return t = +t, e -= t, function(n) {
            return Math.round(t + e * n);
        };
    }
    function F(t, e, n, r, i, a) {
        var o, u, f;
        return (o = Math.sqrt(t * t + e * e)) && (t /= o, e /= o), (f = t * n + e * r) && (n -= t * f, 
        r -= e * f), (u = Math.sqrt(n * n + r * r)) && (n /= u, r /= u, f /= u), t * r < e * n && (t = -t, 
        e = -e, f = -f, o = -o), {
            translateX: i,
            translateY: a,
            rotate: Math.atan2(e, t) * Fi,
            skewX: Math.atan(f) * Fi,
            scaleX: o,
            scaleY: u
        };
    }
    function L(t, e, n, r) {
        function i(t) {
            return t.length ? t.pop() + " " : "";
        }
        return function(a, o) {
            var u = [], f = [];
            return a = t(a), o = t(o), function(t, r, i, a, o, u) {
                if (t !== i || r !== a) {
                    var f = o.push("translate(", null, e, null, n);
                    u.push({
                        i: f - 4,
                        x: P(t, i)
                    }, {
                        i: f - 2,
                        x: P(r, a)
                    });
                } else (i || a) && o.push("translate(" + i + e + a + n);
            }(a.translateX, a.translateY, o.translateX, o.translateY, u, f), function(t, e, n, a) {
                t !== e ? (t - e > 180 ? e += 360 : e - t > 180 && (t += 360), a.push({
                    i: n.push(i(n) + "rotate(", null, r) - 2,
                    x: P(t, e)
                })) : e && n.push(i(n) + "rotate(" + e + r);
            }(a.rotate, o.rotate, u, f), function(t, e, n, a) {
                t !== e ? a.push({
                    i: n.push(i(n) + "skewX(", null, r) - 2,
                    x: P(t, e)
                }) : e && n.push(i(n) + "skewX(" + e + r);
            }(a.skewX, o.skewX, u, f), function(t, e, n, r, a, o) {
                if (t !== n || e !== r) {
                    var u = a.push(i(a) + "scale(", null, ",", null, ")");
                    o.push({
                        i: u - 4,
                        x: P(t, n)
                    }, {
                        i: u - 2,
                        x: P(e, r)
                    });
                } else 1 === n && 1 === r || a.push(i(a) + "scale(" + n + "," + r + ")");
            }(a.scaleX, a.scaleY, o.scaleX, o.scaleY, u, f), a = o = null, function(t) {
                for (var e, n = -1, r = f.length; ++n < r; ) u[(e = f[n]).i] = e.x(t);
                return u.join("");
            };
        };
    }
    function z(t) {
        return function e(n) {
            function r(e, r) {
                var i = t((e = j(e)).h, (r = j(r)).h), a = O(e.s, r.s), o = O(e.l, r.l), u = O(e.opacity, r.opacity);
                return function(t) {
                    return e.h = i(t), e.s = a(t), e.l = o(Math.pow(t, n)), e.opacity = u(t), e + "";
                };
            }
            return n = +n, r.gamma = e, r;
        }(1);
    }
    function Y(t) {
        return +t;
    }
    function R(t, e) {
        return (e -= t = +t) ? function(n) {
            return (n - t) / e;
        } : function(t) {
            return function() {
                return t;
            };
        }(e);
    }
    function B(t, e, n, r) {
        var i = t[0], a = t[1], o = e[0], u = e[1];
        return a < i ? (i = n(a, i), o = r(u, o)) : (i = n(i, a), o = r(o, u)), function(t) {
            return o(i(t));
        };
    }
    function $(t, e, n, r) {
        var i = Math.min(t.length, e.length) - 1, a = new Array(i), o = new Array(i), u = -1;
        for (t[i] < t[0] && (t = t.slice().reverse(), e = e.slice().reverse()); ++u < i; ) a[u] = n(t[u], t[u + 1]), 
        o[u] = r(e[u], e[u + 1]);
        return function(e) {
            var n = Gr(t, e, 1, i) - 1;
            return o[n](a[n](e));
        };
    }
    function X(t, e) {
        if ((n = (t = e ? t.toExponential(e - 1) : t.toExponential()).indexOf("e")) < 0) return null;
        var n, r = t.slice(0, n);
        return [ r.length > 1 ? r[0] + r.slice(2) : r, +t.slice(n + 1) ];
    }
    function V(t) {
        return (t = X(Math.abs(t))) ? t[1] : NaN;
    }
    function W(t, e) {
        var n = X(t, e);
        if (!n) return t + "";
        var r = n[0], i = n[1];
        return i < 0 ? "0." + new Array(-i).join("0") + r : r.length > i + 1 ? r.slice(0, i + 1) + "." + r.slice(i + 1) : r + new Array(i - r.length + 2).join("0");
    }
    function q(t) {
        return new Q(t);
    }
    function Q(t) {
        if (!(e = Vi.exec(t))) throw new Error("invalid format: " + t);
        var e, n = e[1] || " ", r = e[2] || ">", i = e[3] || "-", a = e[4] || "", o = !!e[5], u = e[6] && +e[6], f = !!e[7], c = e[8] && +e[8].slice(1), s = e[9] || "";
        "n" === s ? (f = !0, s = "g") : Xi[s] || (s = ""), (o || "0" === n && "=" === r) && (o = !0, 
        n = "0", r = "="), this.fill = n, this.align = r, this.sign = i, this.symbol = a, 
        this.zero = o, this.width = u, this.comma = f, this.precision = c, this.type = s;
    }
    function G(t) {
        return t;
    }
    function J(t) {
        function e(t) {
            function e(t) {
                var e, r, o, s = g, _ = y;
                if ("c" === v) _ = b(t) + _, t = ""; else {
                    var w = (t = +t) < 0;
                    if (t = b(Math.abs(t), p), w && 0 == +t && (w = !1), s = (w ? "(" === c ? c : "-" : "-" === c || "(" === c ? "" : c) + s, 
                    _ = _ + ("s" === v ? Gi[8 + Ri / 3] : "") + (w && "(" === c ? ")" : ""), m) for (e = -1, 
                    r = t.length; ++e < r; ) if (48 > (o = t.charCodeAt(e)) || o > 57) {
                        _ = (46 === o ? i + t.slice(e + 1) : t.slice(e)) + _, t = t.slice(0, e);
                        break;
                    }
                }
                d && !l && (t = n(t, 1 / 0));
                var x = s.length + t.length + _.length, M = x < h ? new Array(h - x + 1).join(u) : "";
                switch (d && l && (t = n(M + t, M.length ? h - _.length : 1 / 0), M = ""), f) {
                  case "<":
                    t = s + t + _ + M;
                    break;

                  case "=":
                    t = s + M + t + _;
                    break;

                  case "^":
                    t = M.slice(0, x = M.length >> 1) + s + t + _ + M.slice(x);
                    break;

                  default:
                    t = M + s + t + _;
                }
                return a(t);
            }
            var u = (t = q(t)).fill, f = t.align, c = t.sign, s = t.symbol, l = t.zero, h = t.width, d = t.comma, p = t.precision, v = t.type, g = "$" === s ? r[0] : "#" === s && /[boxX]/.test(v) ? "0" + v.toLowerCase() : "", y = "$" === s ? r[1] : /[%p]/.test(v) ? o : "", b = Xi[v], m = !v || /[defgprs%]/.test(v);
            return p = null == p ? v ? 6 : 12 : /[gprs]/.test(v) ? Math.max(1, Math.min(21, p)) : Math.max(0, Math.min(20, p)), 
            e.toString = function() {
                return t + "";
            }, e;
        }
        var n = t.grouping && t.thousands ? function(t, e) {
            return function(n, r) {
                for (var i = n.length, a = [], o = 0, u = t[0], f = 0; i > 0 && u > 0 && (f + u + 1 > r && (u = Math.max(1, r - f)), 
                a.push(n.substring(i -= u, i + u)), !((f += u + 1) > r)); ) u = t[o = (o + 1) % t.length];
                return a.reverse().join(e);
            };
        }(t.grouping, t.thousands) : G, r = t.currency, i = t.decimal, a = t.numerals ? function(t) {
            return function(e) {
                return e.replace(/[0-9]/g, function(e) {
                    return t[+e];
                });
            };
        }(t.numerals) : G, o = t.percent || "%";
        return {
            format: e,
            formatPrefix: function(t, n) {
                var r = e((t = q(t), t.type = "f", t)), i = 3 * Math.max(-8, Math.min(8, Math.floor(V(n) / 3))), a = Math.pow(10, -i), o = Gi[8 + i / 3];
                return function(t) {
                    return r(a * t) + o;
                };
            }
        };
    }
    function Z(t, e, n) {
        var r, i = t[0], a = t[t.length - 1], o = function(t, e, n) {
            var r = Math.abs(e - t) / Math.max(0, n), i = Math.pow(10, Math.floor(Math.log(r) / Math.LN10)), a = r / i;
            return a >= Jr ? i *= 10 : a >= Zr ? i *= 5 : a >= Kr && (i *= 2), e < t ? -i : i;
        }(i, a, null == e ? 10 : e);
        switch ((n = q(null == n ? ",f" : n)).type) {
          case "s":
            var u = Math.max(Math.abs(i), Math.abs(a));
            return null != n.precision || isNaN(r = function(t, e) {
                return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(V(e) / 3))) - V(Math.abs(t)));
            }(o, u)) || (n.precision = r), Qi(n, u);

          case "":
          case "e":
          case "g":
          case "p":
          case "r":
            null != n.precision || isNaN(r = function(t, e) {
                return t = Math.abs(t), e = Math.abs(e) - t, Math.max(0, V(e) - V(t)) + 1;
            }(o, Math.max(Math.abs(i), Math.abs(a)))) || (n.precision = r - ("e" === n.type));
            break;

          case "f":
          case "%":
            null != n.precision || isNaN(r = function(t) {
                return Math.max(0, -V(Math.abs(t)));
            }(o)) || (n.precision = r - 2 * ("%" === n.type));
        }
        return qi(n);
    }
    function K(t) {
        var e = t.domain;
        return t.ticks = function(t) {
            var n = e();
            return function(t, e, n) {
                var i, a, o, u, f = -1;
                if (e = +e, t = +t, n = +n, t === e && n > 0) return [ t ];
                if ((i = e < t) && (a = t, t = e, e = a), 0 === (u = r(t, e, n)) || !isFinite(u)) return [];
                if (u > 0) for (t = Math.ceil(t / u), e = Math.floor(e / u), o = new Array(a = Math.ceil(e - t + 1)); ++f < a; ) o[f] = (t + f) * u; else for (t = Math.floor(t * u), 
                e = Math.ceil(e * u), o = new Array(a = Math.ceil(t - e + 1)); ++f < a; ) o[f] = (t - f) / u;
                return i && o.reverse(), o;
            }(n[0], n[n.length - 1], null == t ? 10 : t);
        }, t.tickFormat = function(t, n) {
            return Z(e(), t, n);
        }, t.nice = function(n) {
            null == n && (n = 10);
            var i, a = e(), o = 0, u = a.length - 1, f = a[o], c = a[u];
            return c < f && (i = f, f = c, c = i, i = o, o = u, u = i), (i = r(f, c, n)) > 0 ? i = r(f = Math.floor(f / i) * i, c = Math.ceil(c / i) * i, n) : i < 0 && (i = r(f = Math.ceil(f * i) / i, c = Math.floor(c * i) / i, n)), 
            i > 0 ? (a[o] = Math.floor(f / i) * i, a[u] = Math.ceil(c / i) * i, e(a)) : i < 0 && (a[o] = Math.ceil(f * i) / i, 
            a[u] = Math.floor(c * i) / i, e(a)), t;
        }, t;
    }
    function tt() {
        var t = function(t, e) {
            function n() {
                return i = Math.min(u.length, f.length) > 2 ? $ : B, a = o = null, r;
            }
            function r(e) {
                return (a || (a = i(u, f, s ? function(t) {
                    return function(e, n) {
                        var r = t(e = +e, n = +n);
                        return function(t) {
                            return t <= e ? 0 : t >= n ? 1 : r(t);
                        };
                    };
                }(t) : t, c)))(+e);
            }
            var i, a, o, u = $i, f = $i, c = H, s = !1;
            return r.invert = function(t) {
                return (o || (o = i(f, u, R, s ? function(t) {
                    return function(e, n) {
                        var r = t(e = +e, n = +n);
                        return function(t) {
                            return t <= 0 ? e : t >= 1 ? n : r(t);
                        };
                    };
                }(e) : e)))(+t);
            }, r.domain = function(t) {
                return arguments.length ? (u = ni.call(t, Y), n()) : u.slice();
            }, r.range = function(t) {
                return arguments.length ? (f = ri.call(t), n()) : f.slice();
            }, r.rangeRound = function(t) {
                return f = ri.call(t), c = I, n();
            }, r.clamp = function(t) {
                return arguments.length ? (s = !!t, n()) : s;
            }, r.interpolate = function(t) {
                return arguments.length ? (c = t, n()) : c;
            }, n();
        }(R, P);
        return t.copy = function() {
            return function(t, e) {
                return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());
            }(t, tt());
        }, K(t);
    }
    function et(t, e, n, r) {
        function i(e) {
            return t(e = new Date(+e)), e;
        }
        return i.floor = i, i.ceil = function(n) {
            return t(n = new Date(n - 1)), e(n, 1), t(n), n;
        }, i.round = function(t) {
            var e = i(t), n = i.ceil(t);
            return t - e < n - t ? e : n;
        }, i.offset = function(t, n) {
            return e(t = new Date(+t), null == n ? 1 : Math.floor(n)), t;
        }, i.range = function(n, r, a) {
            var o, u = [];
            if (n = i.ceil(n), a = null == a ? 1 : Math.floor(a), !(n < r && a > 0)) return u;
            do {
                u.push(o = new Date(+n)), e(n, a), t(n);
            } while (o < n && n < r);
            return u;
        }, i.filter = function(n) {
            return et(function(e) {
                if (e >= e) for (;t(e), !n(e); ) e.setTime(e - 1);
            }, function(t, r) {
                if (t >= t) if (r < 0) for (;++r <= 0; ) for (;e(t, -1), !n(t); ) ; else for (;--r >= 0; ) for (;e(t, 1), 
                !n(t); ) ;
            });
        }, n && (i.count = function(e, r) {
            return Ji.setTime(+e), Zi.setTime(+r), t(Ji), t(Zi), Math.floor(n(Ji, Zi));
        }, i.every = function(t) {
            return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? i.filter(r ? function(e) {
                return r(e) % t == 0;
            } : function(e) {
                return i.count(0, e) % t == 0;
            }) : i : null;
        }), i;
    }
    function nt(t) {
        return et(function(e) {
            e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7), e.setHours(0, 0, 0, 0);
        }, function(t, e) {
            t.setDate(t.getDate() + 7 * e);
        }, function(t, e) {
            return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * ta) / ea;
        });
    }
    function rt(t) {
        return et(function(e) {
            e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7), e.setUTCHours(0, 0, 0, 0);
        }, function(t, e) {
            t.setUTCDate(t.getUTCDate() + 7 * e);
        }, function(t, e) {
            return (e - t) / ea;
        });
    }
    function it(t) {
        if (0 <= t.y && t.y < 100) {
            var e = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L);
            return e.setFullYear(t.y), e;
        }
        return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L);
    }
    function at(t) {
        if (0 <= t.y && t.y < 100) {
            var e = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L));
            return e.setUTCFullYear(t.y), e;
        }
        return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L));
    }
    function ot(t) {
        return {
            y: t,
            m: 0,
            d: 1,
            H: 0,
            M: 0,
            S: 0,
            L: 0
        };
    }
    function ut(t, e, n) {
        var r = t < 0 ? "-" : "", i = (r ? -t : t) + "", a = i.length;
        return r + (a < n ? new Array(n - a + 1).join(e) + i : i);
    }
    function ft(t) {
        return t.replace(ba, "\\$&");
    }
    function ct(t) {
        return new RegExp("^(?:" + t.map(ft).join("|") + ")", "i");
    }
    function st(t) {
        for (var e = {}, n = -1, r = t.length; ++n < r; ) e[t[n].toLowerCase()] = n;
        return e;
    }
    function lt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 1));
        return r ? (t.w = +r[0], n + r[0].length) : -1;
    }
    function ht(t, e, n) {
        var r = ga.exec(e.slice(n, n + 1));
        return r ? (t.u = +r[0], n + r[0].length) : -1;
    }
    function dt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.U = +r[0], n + r[0].length) : -1;
    }
    function pt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.V = +r[0], n + r[0].length) : -1;
    }
    function vt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.W = +r[0], n + r[0].length) : -1;
    }
    function gt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 4));
        return r ? (t.y = +r[0], n + r[0].length) : -1;
    }
    function yt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.y = +r[0] + (+r[0] > 68 ? 1900 : 2e3), n + r[0].length) : -1;
    }
    function bt(t, e, n) {
        var r = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n, n + 6));
        return r ? (t.Z = r[1] ? 0 : -(r[2] + (r[3] || "00")), n + r[0].length) : -1;
    }
    function mt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.m = r[0] - 1, n + r[0].length) : -1;
    }
    function _t(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.d = +r[0], n + r[0].length) : -1;
    }
    function wt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 3));
        return r ? (t.m = 0, t.d = +r[0], n + r[0].length) : -1;
    }
    function xt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.H = +r[0], n + r[0].length) : -1;
    }
    function Mt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.M = +r[0], n + r[0].length) : -1;
    }
    function Ct(t, e, n) {
        var r = ga.exec(e.slice(n, n + 2));
        return r ? (t.S = +r[0], n + r[0].length) : -1;
    }
    function St(t, e, n) {
        var r = ga.exec(e.slice(n, n + 3));
        return r ? (t.L = +r[0], n + r[0].length) : -1;
    }
    function Tt(t, e, n) {
        var r = ga.exec(e.slice(n, n + 6));
        return r ? (t.L = Math.floor(r[0] / 1e3), n + r[0].length) : -1;
    }
    function At(t, e, n) {
        var r = ya.exec(e.slice(n, n + 1));
        return r ? n + r[0].length : -1;
    }
    function jt(t, e, n) {
        var r = ga.exec(e.slice(n));
        return r ? (t.Q = +r[0], n + r[0].length) : -1;
    }
    function kt(t, e, n) {
        var r = ga.exec(e.slice(n));
        return r ? (t.Q = 1e3 * +r[0], n + r[0].length) : -1;
    }
    function Et(t, e) {
        return ut(t.getDate(), e, 2);
    }
    function Nt(t, e) {
        return ut(t.getHours(), e, 2);
    }
    function Dt(t, e) {
        return ut(t.getHours() % 12 || 12, e, 2);
    }
    function Ot(t, e) {
        return ut(1 + na.count(oa(t), t), e, 3);
    }
    function Pt(t, e) {
        return ut(t.getMilliseconds(), e, 3);
    }
    function Ut(t, e) {
        return Pt(t, e) + "000";
    }
    function Ht(t, e) {
        return ut(t.getMonth() + 1, e, 2);
    }
    function It(t, e) {
        return ut(t.getMinutes(), e, 2);
    }
    function Ft(t, e) {
        return ut(t.getSeconds(), e, 2);
    }
    function Lt(t) {
        var e = t.getDay();
        return 0 === e ? 7 : e;
    }
    function zt(t, e) {
        return ut(ra.count(oa(t), t), e, 2);
    }
    function Yt(t, e) {
        var n = t.getDay();
        return t = n >= 4 || 0 === n ? aa(t) : aa.ceil(t), ut(aa.count(oa(t), t) + (4 === oa(t).getDay()), e, 2);
    }
    function Rt(t) {
        return t.getDay();
    }
    function Bt(t, e) {
        return ut(ia.count(oa(t), t), e, 2);
    }
    function $t(t, e) {
        return ut(t.getFullYear() % 100, e, 2);
    }
    function Xt(t, e) {
        return ut(t.getFullYear() % 1e4, e, 4);
    }
    function Vt(t) {
        var e = t.getTimezoneOffset();
        return (e > 0 ? "-" : (e *= -1, "+")) + ut(e / 60 | 0, "0", 2) + ut(e % 60, "0", 2);
    }
    function Wt(t, e) {
        return ut(t.getUTCDate(), e, 2);
    }
    function qt(t, e) {
        return ut(t.getUTCHours(), e, 2);
    }
    function Qt(t, e) {
        return ut(t.getUTCHours() % 12 || 12, e, 2);
    }
    function Gt(t, e) {
        return ut(1 + ua.count(la(t), t), e, 3);
    }
    function Jt(t, e) {
        return ut(t.getUTCMilliseconds(), e, 3);
    }
    function Zt(t, e) {
        return Jt(t, e) + "000";
    }
    function Kt(t, e) {
        return ut(t.getUTCMonth() + 1, e, 2);
    }
    function te(t, e) {
        return ut(t.getUTCMinutes(), e, 2);
    }
    function ee(t, e) {
        return ut(t.getUTCSeconds(), e, 2);
    }
    function ne(t) {
        var e = t.getUTCDay();
        return 0 === e ? 7 : e;
    }
    function re(t, e) {
        return ut(fa.count(la(t), t), e, 2);
    }
    function ie(t, e) {
        var n = t.getUTCDay();
        return t = n >= 4 || 0 === n ? sa(t) : sa.ceil(t), ut(sa.count(la(t), t) + (4 === la(t).getUTCDay()), e, 2);
    }
    function ae(t) {
        return t.getUTCDay();
    }
    function oe(t, e) {
        return ut(ca.count(la(t), t), e, 2);
    }
    function ue(t, e) {
        return ut(t.getUTCFullYear() % 100, e, 2);
    }
    function fe(t, e) {
        return ut(t.getUTCFullYear() % 1e4, e, 4);
    }
    function ce() {
        return "+0000";
    }
    function se() {
        return "%";
    }
    function le(t) {
        return +t;
    }
    function he(t) {
        return Math.floor(+t / 1e3);
    }
    function de(t) {
        return t.match(/.{6}/g).map(function(t) {
            return "#" + t;
        });
    }
    function pe(t) {
        var e = t.length;
        return function(n) {
            return t[Math.max(0, Math.min(e - 1, Math.floor(n * e)))];
        };
    }
    function ve() {
        this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "";
    }
    function ge() {
        return new ve();
    }
    function ye(t) {
        return function() {
            return t;
        };
    }
    function be(t) {
        this._context = t;
    }
    function me(t) {
        return new be(t);
    }
    function _e(t) {
        return t[0];
    }
    function we(t) {
        return t[1];
    }
    function xe(t) {
        return t < 0 ? -1 : 1;
    }
    function Me(t, e, n) {
        var r = t._x1 - t._x0, i = e - t._x1, a = (t._y1 - t._y0) / (r || i < 0 && -0), o = (n - t._y1) / (i || r < 0 && -0), u = (a * i + o * r) / (r + i);
        return (xe(a) + xe(o)) * Math.min(Math.abs(a), Math.abs(o), .5 * Math.abs(u)) || 0;
    }
    function Ce(t, e) {
        var n = t._x1 - t._x0;
        return n ? (3 * (t._y1 - t._y0) / n - e) / 2 : e;
    }
    function Se(t, e, n) {
        var r = t._x0, i = t._y0, a = t._x1, o = t._y1, u = (a - r) / 3;
        t._context.bezierCurveTo(r + u, i + u * e, a - u, o - u * n, a, o);
    }
    function Te(t) {
        this._context = t;
    }
    function Ae(t) {
        this._context = t;
    }
    function je() {
        for (var t, e = 0, n = arguments.length, r = {}; e < n; ++e) {
            if (!(t = arguments[e] + "") || t in r) throw new Error("illegal type: " + t);
            r[t] = [];
        }
        return new ke(r);
    }
    function ke(t) {
        this._ = t;
    }
    function Ee(t, e, n) {
        for (var r = 0, i = t.length; r < i; ++r) if (t[r].name === e) {
            t[r] = Ma, t = t.slice(0, r).concat(t.slice(r + 1));
            break;
        }
        return null != n && t.push({
            name: e,
            value: n
        }), t;
    }
    function Ne(t) {
        var e = t += "", n = e.indexOf(":");
        return n >= 0 && "xmlns" !== (e = t.slice(0, n)) && (t = t.slice(n + 1)), Sa.hasOwnProperty(e) ? {
            space: Sa[e],
            local: t
        } : t;
    }
    function De(t) {
        var e = Ne(t);
        return (e.local ? function(t) {
            return function() {
                return this.ownerDocument.createElementNS(t.space, t.local);
            };
        } : function(t) {
            return function() {
                var e = this.ownerDocument, n = this.namespaceURI;
                return n === Ca && e.documentElement.namespaceURI === Ca ? e.createElement(t) : e.createElementNS(n, t);
            };
        })(e);
    }
    function Oe(t, e, n) {
        return t = Pe(t, e, n), function(e) {
            var n = e.relatedTarget;
            n && (n === this || 8 & n.compareDocumentPosition(this)) || t.call(this, e);
        };
    }
    function Pe(t, e, n) {
        return function(r) {
            try {
                t.call(this, this.__data__, e, n);
            } finally {}
        };
    }
    function Ue(t) {
        return function() {
            var e = this.__on;
            if (e) {
                for (var n, r = 0, i = -1, a = e.length; r < a; ++r) n = e[r], t.type && n.type !== t.type || n.name !== t.name ? e[++i] = n : this.removeEventListener(n.type, n.listener, n.capture);
                ++i ? e.length = i : delete this.__on;
            }
        };
    }
    function He(t, e, n) {
        var r = Ea.hasOwnProperty(t.type) ? Oe : Pe;
        return function(i, a, o) {
            var u, f = this.__on, c = r(e, a, o);
            if (f) for (var s = 0, l = f.length; s < l; ++s) if ((u = f[s]).type === t.type && u.name === t.name) return this.removeEventListener(u.type, u.listener, u.capture), 
            this.addEventListener(u.type, u.listener = c, u.capture = n), void (u.value = e);
            this.addEventListener(t.type, c, n), u = {
                type: t.type,
                name: t.name,
                value: e,
                listener: c,
                capture: n
            }, f ? f.push(u) : this.__on = [ u ];
        };
    }
    function Ie() {}
    function Fe(t) {
        return null == t ? Ie : function() {
            return this.querySelector(t);
        };
    }
    function Le() {
        return [];
    }
    function ze(t) {
        return null == t ? Le : function() {
            return this.querySelectorAll(t);
        };
    }
    function Ye(t) {
        return new Array(t.length);
    }
    function Re(t, e) {
        this.ownerDocument = t.ownerDocument, this.namespaceURI = t.namespaceURI, this._next = null, 
        this._parent = t, this.__data__ = e;
    }
    function Be(t, e, n, r, i, a) {
        for (var o, u = 0, f = e.length, c = a.length; u < c; ++u) (o = e[u]) ? (o.__data__ = a[u], 
        r[u] = o) : n[u] = new Re(t, a[u]);
        for (;u < f; ++u) (o = e[u]) && (i[u] = o);
    }
    function $e(t, e, n, r, i, a, o) {
        var u, f, c, s = {}, l = e.length, h = a.length, d = new Array(l);
        for (u = 0; u < l; ++u) (f = e[u]) && (d[u] = c = Na + o.call(f, f.__data__, u, e), 
        c in s ? i[u] = f : s[c] = f);
        for (u = 0; u < h; ++u) (f = s[c = Na + o.call(t, a[u], u, a)]) ? (r[u] = f, f.__data__ = a[u], 
        s[c] = null) : n[u] = new Re(t, a[u]);
        for (u = 0; u < l; ++u) (f = e[u]) && s[d[u]] === f && (i[u] = f);
    }
    function Xe(t, e) {
        return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN;
    }
    function Ve(t) {
        return t.ownerDocument && t.ownerDocument.defaultView || t.document && t || t.defaultView;
    }
    function We(t, e) {
        return t.style.getPropertyValue(e) || Ve(t).getComputedStyle(t, null).getPropertyValue(e);
    }
    function qe(t) {
        return t.trim().split(/^|\s+/);
    }
    function Qe(t) {
        return t.classList || new Ge(t);
    }
    function Ge(t) {
        this._node = t, this._names = qe(t.getAttribute("class") || "");
    }
    function Je(t, e) {
        for (var n = Qe(t), r = -1, i = e.length; ++r < i; ) n.add(e[r]);
    }
    function Ze(t, e) {
        for (var n = Qe(t), r = -1, i = e.length; ++r < i; ) n.remove(e[r]);
    }
    function Ke() {
        this.textContent = "";
    }
    function tn() {
        this.innerHTML = "";
    }
    function en() {
        this.nextSibling && this.parentNode.appendChild(this);
    }
    function nn() {
        this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);
    }
    function rn() {
        return null;
    }
    function an() {
        var t = this.parentNode;
        t && t.removeChild(this);
    }
    function on(t, e, n) {
        var r = Ve(t), i = r.CustomEvent;
        "function" == typeof i ? i = new i(e, n) : (i = r.document.createEvent("Event"), 
        n ? (i.initEvent(e, n.bubbles, n.cancelable), i.detail = n.detail) : i.initEvent(e, !1, !1)), 
        t.dispatchEvent(i);
    }
    function un(t, e) {
        this._groups = t, this._parents = e;
    }
    function fn() {
        return new un([ [ document.documentElement ] ], Da);
    }
    function cn() {
        return za || (Ba(sn), za = Ra.now() + Ya);
    }
    function sn() {
        za = 0;
    }
    function ln() {
        this._call = this._time = this._next = null;
    }
    function hn(t, e, n) {
        var r = new ln();
        return r.restart(t, e, n), r;
    }
    function dn() {
        za = (La = Ra.now()) + Ya, Ua = Ha = 0;
        try {
            !function() {
                cn(), ++Ua;
                for (var t, e = Oa; e; ) (t = za - e._time) >= 0 && e._call.call(null, t), e = e._next;
                --Ua;
            }();
        } finally {
            Ua = 0, function() {
                var t, e, n = Oa, r = 1 / 0;
                for (;n; ) n._call ? (r > n._time && (r = n._time), t = n, n = n._next) : (e = n._next, 
                n._next = null, n = t ? t._next = e : Oa = e);
                Pa = t, vn(r);
            }(), za = 0;
        }
    }
    function pn() {
        var t = Ra.now(), e = t - La;
        e > Fa && (Ya -= e, La = t);
    }
    function vn(t) {
        if (!Ua) {
            Ha && (Ha = clearTimeout(Ha));
            t - za > 24 ? (t < 1 / 0 && (Ha = setTimeout(dn, t - Ra.now() - Ya)), Ia && (Ia = clearInterval(Ia))) : (Ia || (La = Ra.now(), 
            Ia = setInterval(pn, Fa)), Ua = 1, Ba(dn));
        }
    }
    function gn(t, e, n) {
        var r = new ln();
        return e = null == e ? 0 : +e, r.restart(function(n) {
            r.stop(), t(n + e);
        }, e, n), r;
    }
    function yn(t, e, n, r, i, a) {
        var o = t.__transition;
        if (o) {
            if (n in o) return;
        } else t.__transition = {};
        !function(t, e, n) {
            function r(f) {
                var c, s, l, h;
                if (n.state !== Wa) return a();
                for (c in u) if ((h = u[c]).name === n.name) {
                    if (h.state === Qa) return gn(r);
                    h.state === Ga ? (h.state = Za, h.timer.stop(), h.on.call("interrupt", t, t.__data__, h.index, h.group), 
                    delete u[c]) : +c < e && (h.state = Za, h.timer.stop(), delete u[c]);
                }
                if (gn(function() {
                    n.state === Qa && (n.state = Ga, n.timer.restart(i, n.delay, n.time), i(f));
                }), n.state = qa, n.on.call("start", t, t.__data__, n.index, n.group), n.state === qa) {
                    for (n.state = Qa, o = new Array(l = n.tween.length), c = 0, s = -1; c < l; ++c) (h = n.tween[c].value.call(t, t.__data__, n.index, n.group)) && (o[++s] = h);
                    o.length = s + 1;
                }
            }
            function i(e) {
                for (var r = e < n.duration ? n.ease.call(null, e / n.duration) : (n.timer.restart(a), 
                n.state = Ja, 1), i = -1, u = o.length; ++i < u; ) o[i].call(null, r);
                n.state === Ja && (n.on.call("end", t, t.__data__, n.index, n.group), a());
            }
            function a() {
                n.state = Za, n.timer.stop(), delete u[e];
                for (var r in u) return;
                delete t.__transition;
            }
            var o, u = t.__transition;
            u[e] = n, n.timer = hn(function(t) {
                n.state = Wa, n.timer.restart(r, n.delay, n.time), n.delay <= t && r(t - n.delay);
            }, 0, n.time);
        }(t, n, {
            name: e,
            index: r,
            group: i,
            on: $a,
            tween: Xa,
            time: a.time,
            delay: a.delay,
            duration: a.duration,
            ease: a.ease,
            timer: null,
            state: Va
        });
    }
    function bn(t, e) {
        var n = _n(t, e);
        if (n.state > Va) throw new Error("too late; already scheduled");
        return n;
    }
    function mn(t, e) {
        var n = _n(t, e);
        if (n.state > qa) throw new Error("too late; already started");
        return n;
    }
    function _n(t, e) {
        var n = t.__transition;
        if (!n || !(n = n[e])) throw new Error("transition not found");
        return n;
    }
    function wn(t, e, n) {
        var r = t._id;
        return t.each(function() {
            var t = mn(this, r);
            (t.value || (t.value = {}))[e] = n.apply(this, arguments);
        }), function(t) {
            return _n(t, r).value[e];
        };
    }
    function xn(t, e) {
        var n;
        return ("number" == typeof e ? P : e instanceof h ? Ui : (n = h(e)) ? (e = n, Ui) : U)(t, e);
    }
    function Mn(t, e, n, r) {
        this._groups = t, this._parents = e, this._name = n, this._id = r;
    }
    function Cn() {
        return ++to;
    }
    function Sn(t, e) {
        for (var n; !(n = t.__transition) || !(n = n[e]); ) if (!(t = t.parentNode)) return no.time = cn(), 
        no;
        return n;
    }
    function Tn(t) {
        return null == t ? void 0 === t ? vo : po : go && go in Object(t) ? function(t) {
            var e = co.call(t, lo), n = t[lo];
            try {
                t[lo] = void 0;
                var r = !0;
            } catch (t) {}
            var i = so.call(t);
            return r && (e ? t[lo] = n : delete t[lo]), i;
        }(t) : function(t) {
            return ho.call(t);
        }(t);
    }
    function An(t) {
        return null != t && "object" == typeof t;
    }
    function jn(t) {
        return An(t) && Tn(t) == yo;
    }
    function kn(t, e) {
        return !!(e = null == e ? Ao : e) && ("number" == typeof t || jo.test(t)) && t > -1 && t % 1 == 0 && t < e;
    }
    function En(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= ko;
    }
    function Nn(t, e) {
        var n = xo(t), r = !n && wo(t), i = !n && !r && To(t), a = !n && !r && !i && Ho(t), o = n || r || i || a, u = o ? function(t, e) {
            for (var n = -1, r = Array(t); ++n < t; ) r[n] = e(n);
            return r;
        }(t.length, String) : [], f = u.length;
        for (var c in t) !e && !Io.call(t, c) || o && ("length" == c || i && ("offset" == c || "parent" == c) || a && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || kn(c, f)) || u.push(c);
        return u;
    }
    function Dn(t) {
        if (!function(t) {
            var e = t && t.constructor;
            return t === ("function" == typeof e && e.prototype || Fo);
        }(t)) return Lo(t);
        var e = [];
        for (var n in Object(t)) zo.call(t, n) && "constructor" != n && e.push(n);
        return e;
    }
    function On(t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e);
    }
    function Pn(t) {
        if (!On(t)) return !1;
        var e = Tn(t);
        return e == Ro || e == Bo || e == Yo || e == $o;
    }
    function Un(t) {
        return function(t) {
            return null != t && En(t.length) && !Pn(t);
        }(t) ? Nn(t) : Dn(t);
    }
    function Hn(t, e) {
        return t && ro(t, e, Un);
    }
    function In(t, e) {
        return t === e || t != t && e != e;
    }
    function Fn(t, e) {
        for (var n = t.length; n--; ) if (In(t[n][0], e)) return n;
        return -1;
    }
    function Ln(t) {
        var e = -1, n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1]);
        }
    }
    function zn(t) {
        if (null != t) {
            try {
                return qo.call(t);
            } catch (t) {}
            try {
                return t + "";
            } catch (t) {}
        }
        return "";
    }
    function Yn(t) {
        if (!On(t) || function(t) {
            return !!Wo && Wo in t;
        }(t)) return !1;
        return (Pn(t) ? tu : Qo).test(zn(t));
    }
    function Rn(t, e) {
        var n = function(t, e) {
            return null == t ? void 0 : t[e];
        }(t, e);
        return Yn(n) ? n : void 0;
    }
    function Bn(t) {
        var e = -1, n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1]);
        }
    }
    function $n(t, e) {
        var n = t.__data__;
        return function(t) {
            var e = typeof t;
            return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t;
        }(e) ? n["string" == typeof e ? "string" : "hash"] : n.map;
    }
    function Xn(t) {
        var e = -1, n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var r = t[e];
            this.set(r[0], r[1]);
        }
    }
    function Vn(t) {
        var e = this.__data__ = new Ln(t);
        this.size = e.size;
    }
    function Wn(t) {
        var e = -1, n = null == t ? 0 : t.length;
        for (this.__data__ = new Xn(); ++e < n; ) this.add(t[e]);
    }
    function qn(t, e) {
        for (var n = -1, r = null == t ? 0 : t.length; ++n < r; ) if (e(t[n], n, t)) return !0;
        return !1;
    }
    function Qn(t, e) {
        return t.has(e);
    }
    function Gn(t, e, n, r, i, a) {
        var o = n & cu, u = t.length, f = e.length;
        if (u != f && !(o && f > u)) return !1;
        var c = a.get(t);
        if (c && a.get(e)) return c == e;
        var s = -1, l = !0, h = n & su ? new Wn() : void 0;
        for (a.set(t, e), a.set(e, t); ++s < u; ) {
            var d = t[s], p = e[s];
            if (r) var v = o ? r(p, d, s, e, t, a) : r(d, p, s, t, e, a);
            if (void 0 !== v) {
                if (v) continue;
                l = !1;
                break;
            }
            if (h) {
                if (!qn(e, function(t, e) {
                    if (!Qn(h, e) && (d === t || i(d, t, n, r, a))) return h.push(e);
                })) {
                    l = !1;
                    break;
                }
            } else if (d !== p && !i(d, p, n, r, a)) {
                l = !1;
                break;
            }
        }
        return a.delete(t), a.delete(e), l;
    }
    function Jn(t) {
        var e = -1, n = Array(t.size);
        return t.forEach(function(t, r) {
            n[++e] = [ r, t ];
        }), n;
    }
    function Zn(t) {
        var e = -1, n = Array(t.size);
        return t.forEach(function(t) {
            n[++e] = t;
        }), n;
    }
    function Kn(t) {
        return function(t, e, n) {
            var r = e(t);
            return xo(t) ? r : function(t, e) {
                for (var n = -1, r = e.length, i = t.length; ++n < r; ) t[i + n] = e[n];
                return t;
            }(r, n(t));
        }(t, Un, ku);
    }
    function tr(t, e, n, r, i, a) {
        var o = xo(t), u = xo(e), f = o ? qu : Xu(t), c = u ? qu : Xu(e), s = (f = f == Wu ? Qu : f) == Qu, l = (c = c == Wu ? Qu : c) == Qu, h = f == c;
        if (h && To(t)) {
            if (!To(e)) return !1;
            o = !0, s = !1;
        }
        if (h && !s) return a || (a = new Vn()), o || Ho(t) ? Gn(t, e, n, r, i, a) : function(t, e, n, r, i, a, o) {
            switch (n) {
              case Cu:
                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
                t = t.buffer, e = e.buffer;

              case Mu:
                return !(t.byteLength != e.byteLength || !a(new lu(t), new lu(e)));

              case pu:
              case vu:
              case bu:
                return In(+t, +e);

              case gu:
                return t.name == e.name && t.message == e.message;

              case mu:
              case wu:
                return t == e + "";

              case yu:
                var u = Jn;

              case _u:
                var f = r & hu;
                if (u || (u = Zn), t.size != e.size && !f) return !1;
                var c = o.get(t);
                if (c) return c == e;
                r |= du, o.set(t, e);
                var s = Gn(u(t), u(e), r, i, a, o);
                return o.delete(t), s;

              case xu:
                if (Tu) return Tu.call(t) == Tu.call(e);
            }
            return !1;
        }(t, e, f, n, r, i, a);
        if (!(n & Vu)) {
            var d = s && Gu.call(t, "__wrapped__"), p = l && Gu.call(e, "__wrapped__");
            if (d || p) {
                var v = d ? t.value() : t, g = p ? e.value() : e;
                return a || (a = new Vn()), i(v, g, n, r, a);
            }
        }
        return !!h && (a || (a = new Vn()), function(t, e, n, r, i, a) {
            var o = n & Eu, u = Kn(t), f = u.length;
            if (f != Kn(e).length && !o) return !1;
            for (var c = f; c--; ) {
                var s = u[c];
                if (!(o ? s in e : Nu.call(e, s))) return !1;
            }
            var l = a.get(t);
            if (l && a.get(e)) return l == e;
            var h = !0;
            a.set(t, e), a.set(e, t);
            for (var d = o; ++c < f; ) {
                var p = t[s = u[c]], v = e[s];
                if (r) var g = o ? r(v, p, s, e, t, a) : r(p, v, s, t, e, a);
                if (!(void 0 === g ? p === v || i(p, v, n, r, a) : g)) {
                    h = !1;
                    break;
                }
                d || (d = "constructor" == s);
            }
            if (h && !d) {
                var y = t.constructor, b = e.constructor;
                y != b && "constructor" in t && "constructor" in e && !("function" == typeof y && y instanceof y && "function" == typeof b && b instanceof b) && (h = !1);
            }
            return a.delete(t), a.delete(e), h;
        }(t, e, n, r, i, a));
    }
    function er(t, e, n, r, i) {
        return t === e || (null == t || null == e || !An(t) && !An(e) ? t != t && e != e : tr(t, e, n, r, er, i));
    }
    function nr(t) {
        return t == t && !On(t);
    }
    function rr(t, e) {
        return function(n) {
            return null != n && (n[t] === e && (void 0 !== e || t in Object(n)));
        };
    }
    function ir(t) {
        var e = function(t) {
            for (var e = Un(t), n = e.length; n--; ) {
                var r = e[n], i = t[r];
                e[n] = [ r, i, nr(i) ];
            }
            return e;
        }(t);
        return 1 == e.length && e[0][2] ? rr(e[0][0], e[0][1]) : function(n) {
            return n === t || function(t, e, n, r) {
                var i = n.length, a = i, o = !r;
                if (null == t) return !a;
                for (t = Object(t); i--; ) {
                    var u = n[i];
                    if (o && u[2] ? u[1] !== t[u[0]] : !(u[0] in t)) return !1;
                }
                for (;++i < a; ) {
                    var f = (u = n[i])[0], c = t[f], s = u[1];
                    if (o && u[2]) {
                        if (void 0 === c && !(f in t)) return !1;
                    } else {
                        var l = new Vn();
                        if (r) var h = r(c, s, f, t, e, l);
                        if (!(void 0 === h ? er(s, c, Ju | Zu, r, l) : h)) return !1;
                    }
                }
                return !0;
            }(n, t, e);
        };
    }
    function ar(t) {
        return "symbol" == typeof t || An(t) && Tn(t) == Ku;
    }
    function or(t, e) {
        if (xo(t)) return !1;
        var n = typeof t;
        return !("number" != n && "symbol" != n && "boolean" != n && null != t && !ar(t)) || (ef.test(t) || !tf.test(t) || null != e && t in Object(e));
    }
    function ur(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e) throw new TypeError(nf);
        var n = function() {
            var r = arguments, i = e ? e.apply(this, r) : r[0], a = n.cache;
            if (a.has(i)) return a.get(i);
            var o = t.apply(this, r);
            return n.cache = a.set(i, o) || a, o;
        };
        return n.cache = new (ur.Cache || Xn)(), n;
    }
    function fr(t) {
        if ("string" == typeof t) return t;
        if (xo(t)) return function(t, e) {
            for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; ) i[n] = e(t[n], n, t);
            return i;
        }(t, fr) + "";
        if (ar(t)) return lf ? lf.call(t) : "";
        var e = t + "";
        return "0" == e && 1 / t == -cf ? "-0" : e;
    }
    function cr(t) {
        return null == t ? "" : fr(t);
    }
    function sr(t, e) {
        return xo(t) ? t : or(t, e) ? [ t ] : ff(cr(t));
    }
    function lr(t) {
        if ("string" == typeof t || ar(t)) return t;
        var e = t + "";
        return "0" == e && 1 / t == -hf ? "-0" : e;
    }
    function hr(t, e) {
        for (var n = 0, r = (e = sr(e, t)).length; null != t && n < r; ) t = t[lr(e[n++])];
        return n && n == r ? t : void 0;
    }
    function dr(t, e) {
        return null != t && e in Object(t);
    }
    function pr(t, e) {
        return null != t && function(t, e, n) {
            for (var r = -1, i = (e = sr(e, t)).length, a = !1; ++r < i; ) {
                var o = lr(e[r]);
                if (!(a = null != t && n(t, o))) break;
                t = t[o];
            }
            return a || ++r != i ? a : !!(i = null == t ? 0 : t.length) && En(i) && kn(o, i) && (xo(t) || wo(t));
        }(t, e, dr);
    }
    function vr(t, e) {
        return or(t) && nr(e) ? rr(lr(t), e) : function(n) {
            var r = function(t, e, n) {
                var r = null == t ? void 0 : hr(t, e);
                return void 0 === r ? n : r;
            }(n, t);
            return void 0 === r && r === e ? pr(n, t) : er(e, r, df | pf);
        };
    }
    function gr(t) {
        return t;
    }
    function yr(t) {
        return function(e) {
            return null == e ? void 0 : e[t];
        };
    }
    function br(t) {
        return or(t) ? yr(lr(t)) : function(t) {
            return function(e) {
                return hr(e, t);
            };
        }(t);
    }
    function mr(t) {
        return "function" == typeof t ? t : null == t ? gr : "object" == typeof t ? xo(t) ? vr(t[0], t[1]) : ir(t) : br(t);
    }
    function _r(t, e) {
        return function(t, e, n) {
            var r;
            return n(t, function(t, n, i) {
                if (e(t, n, i)) return r = n, !1;
            }), r;
        }(t, mr(e), Hn);
    }
    function wr(t) {
        return t != t;
    }
    function xr(t, e) {
        return !!(null == t ? 0 : t.length) && function(t, e, n) {
            return e == e ? function(t, e, n) {
                for (var r = n - 1, i = t.length; ++r < i; ) if (t[r] === e) return r;
                return -1;
            }(t, e, n) : function(t, e, n, r) {
                for (var i = t.length, a = n + (r ? 1 : -1); r ? a-- : ++a < i; ) if (e(t[a], a, t)) return a;
                return -1;
            }(t, wr, n);
        }(t, e, 0) > -1;
    }
    function Mr(t, e, n) {
        for (var r = -1, i = null == t ? 0 : t.length; ++r < i; ) if (n(e, t[r])) return !0;
        return !1;
    }
    function Cr(t, e, n) {
        var r = -1, i = xr, a = t.length, o = !0, u = [], f = u;
        if (n) o = !1, i = Mr; else if (a >= gf) {
            var c = e ? null : vf(t);
            if (c) return Zn(c);
            o = !1, i = Qn, f = new Wn();
        } else f = e ? [] : u;
        t: for (;++r < a; ) {
            var s = t[r], l = e ? e(s) : s;
            if (s = n || 0 !== s ? s : 0, o && l == l) {
                for (var h = f.length; h--; ) if (f[h] === l) continue t;
                e && f.push(l), u.push(s);
            } else i(f, l, n) || (f !== u && f.push(l), u.push(s));
        }
        return u;
    }
    function Sr(t, e) {
        return t && t.length ? Cr(t, mr(e)) : [];
    }
    function Tr(t, e) {
        var n = "";
        if (!t || e < 1 || e > yf) return n;
        do {
            e % 2 && (n += t), (e = bf(e / 2)) && (t += t);
        } while (e);
        return n;
    }
    function Ar(t, e, n) {
        var r = t.length;
        return n = void 0 === n ? r : n, !e && n >= r ? t : function(t, e, n) {
            var r = -1, i = t.length;
            e < 0 && (e = -e > i ? 0 : i + e), (n = n > i ? i : n) < 0 && (n += i), i = e > n ? 0 : n - e >>> 0, 
            e >>>= 0;
            for (var a = Array(i); ++r < i; ) a[r] = t[r + e];
            return a;
        }(t, e, n);
    }
    function jr(t) {
        return mf.test(t);
    }
    function kr(t) {
        return jr(t) ? function(t) {
            for (var e = Nf.lastIndex = 0; Nf.test(t); ) ++e;
            return e;
        }(t) : _f(t);
    }
    function Er(t) {
        return jr(t) ? function(t) {
            return t.match(Rf) || [];
        }(t) : function(t) {
            return t.split("");
        }(t);
    }
    function Nr(t, e) {
        var n = (e = void 0 === e ? " " : fr(e)).length;
        if (n < 2) return n ? Tr(e, t) : e;
        var r = Tr(e, Bf(t / kr(e)));
        return jr(e) ? Ar(Er(r), 0, t).join("") : r.slice(0, t);
    }
    function Dr(t) {
        if (!t) return 0 === t ? t : 0;
        if ((t = function(t) {
            if ("number" == typeof t) return t;
            if (ar(t)) return $f;
            if (On(t)) {
                var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                t = On(e) ? e + "" : e;
            }
            if ("string" != typeof t) return 0 === t ? t : +t;
            t = t.replace(Xf, "");
            var n = Wf.test(t);
            return n || qf.test(t) ? Qf(t.slice(2), n ? 2 : 8) : Vf.test(t) ? $f : +t;
        }(t)) === Gf || t === -Gf) {
            return (t < 0 ? -1 : 1) * Jf;
        }
        return t == t ? t : 0;
    }
    function Or(t) {
        var e = Dr(t), n = e % 1;
        return e == e ? n ? e - n : e : 0;
    }
    function Pr(t, e, n) {
        t = cr(t);
        var r = (e = Or(e)) ? kr(t) : 0;
        return e && r < e ? Nr(e - r, n) + t : t;
    }
    function Ur(t) {
        return new Function("d", "return {" + t.map(function(t, e) {
            return JSON.stringify(t) + ": d[" + e + "]";
        }).join(",") + "}");
    }
    function Hr(t) {
        function e(t, e) {
            function n() {
                if (c) return Kf;
                if (s) return s = !1, Zf;
                var e, n, r = u;
                if (t.charCodeAt(r) === tc) {
                    for (;u++ < o && t.charCodeAt(u) !== tc || t.charCodeAt(++u) === tc; ) ;
                    return (e = u) >= o ? c = !0 : (n = t.charCodeAt(u++)) === ec ? s = !0 : n === nc && (s = !0, 
                    t.charCodeAt(u) === ec && ++u), t.slice(r + 1, e - 1).replace(/""/g, '"');
                }
                for (;u < o; ) {
                    if ((n = t.charCodeAt(e = u++)) === ec) s = !0; else if (n === nc) s = !0, t.charCodeAt(u) === ec && ++u; else if (n !== a) continue;
                    return t.slice(r, e);
                }
                return c = !0, t.slice(r, o);
            }
            var r, i = [], o = t.length, u = 0, f = 0, c = o <= 0, s = !1;
            for (t.charCodeAt(o - 1) === ec && --o, t.charCodeAt(o - 1) === nc && --o; (r = n()) !== Kf; ) {
                for (var l = []; r !== Zf && r !== Kf; ) l.push(r), r = n();
                e && null == (l = e(l, f++)) || i.push(l);
            }
            return i;
        }
        function n(e) {
            return e.map(r).join(t);
        }
        function r(t) {
            return null == t ? "" : i.test(t += "") ? '"' + t.replace(/"/g, '""') + '"' : t;
        }
        var i = new RegExp('["' + t + "\n\r]"), a = t.charCodeAt(0);
        return {
            parse: function(t, n) {
                var r, i, a = e(t, function(t, e) {
                    if (r) return r(t, e - 1);
                    i = t, r = n ? function(t, e) {
                        var n = Ur(t);
                        return function(r, i) {
                            return e(n(r), i, t);
                        };
                    }(t, n) : Ur(t);
                });
                return a.columns = i || [], a;
            },
            parseRows: e,
            format: function(e, n) {
                return null == n && (n = function(t) {
                    var e = Object.create(null), n = [];
                    return t.forEach(function(t) {
                        for (var r in t) r in e || n.push(e[r] = r);
                    }), n;
                }(e)), [ n.map(r).join(t) ].concat(e.map(function(e) {
                    return n.map(function(t) {
                        return r(e[t]);
                    }).join(t);
                })).join("\n");
            },
            formatRows: function(t) {
                return t.map(n).join("\n");
            }
        };
    }
    function Ir(t, e) {
        var n = t.replace(/[0-9]+$/, "").trim(), r = +t.substring(n.length), i = void 0;
        switch (e) {
          case "Lent Bumps":
          case "May Bumps":
            i = ic;
            break;

          case "Torpids":
          case "Summer Eights":
            i = ac;
            break;

          case "Town Bumps":
            i = oc;
            break;

          default:
            throw "Unrecognised set: " + e;
        }
        return void 0 !== _r(i, function(t) {
            return t === n;
        }) ? _r(i, function(t) {
            return t === n;
        }) + (r > 1 ? r : "") : t;
    }
    function Fr(t, e) {
        var n = t.replace(/[0-9]/, ""), r = void 0, i = void 0;
        switch (e) {
          case "Lent Bumps":
          case "May Bumps":
            r = ic, i = "college";
            break;

          case "Torpids":
          case "Summer Eights":
            r = ac, i = "college";
            break;

          case "Town Bumps":
            r = oc, i = "town";
            break;

          default:
            return t;
        }
        if (r.hasOwnProperty(n)) {
            var a = t.substring(n.length);
            return t = r[n], "college" === i && a.length > 0 ? t = t + " " + uc[+a - 1] : "town" === i && a.length > 0 && +a > 1 && (t = t + " " + +a), 
            t;
        }
        if ("college" === i) {
            var o = t.substring(n.length);
            return o.length > 0 && (t = n.trim() + (+o > 1 ? " " + uc[+o - 1] : "")), t;
        }
        return "town" === i && " 1" === t.substring(t.length - 2) ? t.substring(0, t.length - 2) : t;
    }
    function Lr(t) {
        var e = t.split(/\s/), n = t + " 1";
        return uc.forEach(function(t, r) {
            e[e.length - 1] === t && (n = e.slice(0, e.length - 1).join(" ") + " " + (r + 1));
        }), n;
    }
    function zr(t) {
        var e = {
            A: "#0000ff",
            AR: "#ffff00",
            Ca: "#afe9c6",
            CC: "#800000",
            CH: "#ffff00",
            Cl: "#ffff00",
            Cr: "#000080",
            CT: "##ffff00",
            Cu: "#ff55dd",
            D: "#d400aa",
            Dw: "#000080",
            E: "#eeaaff",
            F: "#808080",
            G: "#005500",
            H: "#000000",
            HH: "#0096ff",
            HHL: "#0044aa",
            J: "#8b0000",
            K: "#5a2ca0",
            L: "#ff0000",
            LC: "#0044aa",
            M: "#672178",
            ME: "#000000",
            N: "#010040",
            NH: "#000000",
            Pb: "#afe9dd",
            Ph: "#003380",
            Q: "#008001",
            QM: "#808080",
            R: "#007fff",
            S: "#f9cc00",
            SC: "#9d0064",
            SE: "#0300fd",
            SS: "#000080",
            T: "#000080",
            TC: "#000000",
            TH: "#000000",
            VS: "#000000",
            W: "#5599ff"
        }, n = {
            Oriel: "#372e63"
        }, r = {
            City: "#f44336",
            Champs: "#f57400",
            "Rob Roy": "#8b0000",
            Cantabs: "#00008b",
            "99": "#5197ff",
            Chesterton: "#ffff00",
            Simoco: "#ffff00",
            Pye: "#ffff00",
            "St Neots": "#b9dcff",
            "X-Press": "#000000",
            "Camb Blue": "#000000",
            "Free Press": "#000000",
            "St Radegund": "#ffff00",
            "Camb Veterans": "#91b9a4",
            "Isle of Ely": "#9ed5b8",
            "Max Entropy": "#f44336",
            "St Ives": "#e90000",
            Sharks: "#e90000"
        }, i = t.replace(/[0-9]/, "");
        if (e.hasOwnProperty(i)) return e[i];
        var a = t.substring(0, t.length - 2).trim();
        return r.hasOwnProperty(a) ? r[a] : n.hasOwnProperty(a) ? n[a] : "#f44336";
    }
    function Yr(t) {
        for (var e = 0; e < t.length - 1; e++) if (t[e + 1] - t[e] >= 0 && 1 !== t[e + 1]) return !1;
        return !0;
    }
    function Rr(t) {
        for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Number.MAX_SAFE_INTEGER, n = 0; n < t.length - 1; n++) if (t[n + 1] - t[n] <= 0 && t[n + 1] !== e) return !1;
        return !0;
    }
    function Br(t, e, n) {
        for (var r = 0; r < e; r++) if (t < n[r]) return r;
    }
    function $r(t, e, n) {
        for (var r = 0; r < e && !(t < n[r]); r++) t -= n[r];
        return t;
    }
    function Xr(t) {
        return t.map(function(t) {
            return t.length;
        }).reduce(function(t, e) {
            return t.length > 0 && (e += t[t.length - 1]), t.push(e), t;
        }, []);
    }
    function Vr(t) {
        for (var e = "", n = t.move, r = t.completed, i = t.divisions.length, a = 0; a < t.days; a++) {
            for (var o = !1, u = i - 1; u >= 0; u--) {
                r[a][u] = !0;
                var f = n[a][u];
                o ? (e += "u", o = !1) : u < i - 1 && (e += "r");
                for (var c = f.length - 1; c >= 0; ) 0 === f[c] ? (e += "r", c -= 1) : 1 === f[c] && 0 === c ? (e += "r", 
                c -= 1) : 1 === f[c] && c > 0 ? (e += "u", c -= 2) : 2 === f[c] && 1 === c ? (e += "u", 
                c -= 2) : 3 === f[c] ? (e += "o3", c -= 1) : (f[c], c -= 1);
                1 !== f[0] && 2 !== f[1] && 4 !== f[1] || (o = !0), u > 0 && (e += " ");
            }
            e += "\n";
        }
        return t.results = e, t;
    }
    function Wr(t, e) {
        0 !== e.length && t.push(e);
    }
    function qr(t, e, n, r) {
        if (n - r < 1) return console.error("Bumping up above the top of the division: div " + e + ", crew " + n + ", up " + r), 
        !1;
        if (0 !== t[e - 1][n - 1 - r]) return console.error("Bumping a crew that has already got a result"), 
        !1;
        if (t[e - 1][n - 1 - r] = -r, n > t[e - 1].length) {
            for (var i = 0; i < t[e].length; i++) if (i - t[e][i] == 0) {
                t[e][i] += r;
                break;
            }
        } else t[e - 1][n - 1] = r;
        return !0;
    }
    function Qr(t, e, n, r) {
        for (var i = t.divisions.length, a = t.divisions, o = t.move, u = t.finish, f = 0; f < t.days; f++) for (var c = 0; c < e.length; c++) if (0 === f) {
            var s = +e[c].Division - 1, l = $r(+e[c]["Start position"] - 1, i, r);
            a[s][l] = e[c].Club + " " + e[c].Crew, o[f][s][l] = +e[c]["Start position"] - +n[t.days * c + f].Position;
        } else {
            var h = +n[t.days * c + f - 1].Position - 1, d = Xr(a), p = Br(h, i, d), v = $r(h, i, r);
            o[f][p][v] = +n[t.days * c + f - 1].Position - +n[t.days * c + f].Position, f === t.days - 1 && (p = Br(h = +n[t.days * c + f].Position - 1, i, d), 
            v = $r(h, i, r), u[p][v] = e[c].Club + " " + e[c].Crew);
        }
        return t;
    }
    var Gr = function(t) {
        return 1 === t.length && (t = function(t) {
            return function(n, r) {
                return e(t(n), r);
            };
        }(t)), {
            left: function(e, n, r, i) {
                for (null == r && (r = 0), null == i && (i = e.length); r < i; ) {
                    var a = r + i >>> 1;
                    t(e[a], n) < 0 ? r = a + 1 : i = a;
                }
                return r;
            },
            right: function(e, n, r, i) {
                for (null == r && (r = 0), null == i && (i = e.length); r < i; ) {
                    var a = r + i >>> 1;
                    t(e[a], n) > 0 ? i = a : r = a + 1;
                }
                return r;
            }
        };
    }(e).right, Jr = Math.sqrt(50), Zr = Math.sqrt(10), Kr = Math.sqrt(2);
    o.prototype = u.prototype = {
        constructor: o,
        has: function(t) {
            return "$" + t in this;
        },
        get: function(t) {
            return this["$" + t];
        },
        set: function(t, e) {
            return this["$" + t] = e, this;
        },
        remove: function(t) {
            var e = "$" + t;
            return e in this && delete this[e];
        },
        clear: function() {
            for (var t in this) "$" === t[0] && delete this[t];
        },
        keys: function() {
            var t = [];
            for (var e in this) "$" === e[0] && t.push(e.slice(1));
            return t;
        },
        values: function() {
            var t = [];
            for (var e in this) "$" === e[0] && t.push(this[e]);
            return t;
        },
        entries: function() {
            var t = [];
            for (var e in this) "$" === e[0] && t.push({
                key: e.slice(1),
                value: this[e]
            });
            return t;
        },
        size: function() {
            var t = 0;
            for (var e in this) "$" === e[0] && ++t;
            return t;
        },
        empty: function() {
            for (var t in this) if ("$" === t[0]) return !1;
            return !0;
        },
        each: function(t) {
            for (var e in this) "$" === e[0] && t(this[e], e.slice(1), this);
        }
    };
    var ti = u.prototype;
    f.prototype = function(t, e) {
        var n = new f();
        if (t instanceof f) t.each(function(t) {
            n.add(t);
        }); else if (t) {
            var r = -1, i = t.length;
            if (null == e) for (;++r < i; ) n.add(t[r]); else for (;++r < i; ) n.add(e(t[r], r, t));
        }
        return n;
    }.prototype = {
        constructor: f,
        has: ti.has,
        add: function(t) {
            return t += "", this["$" + t] = t, this;
        },
        remove: ti.remove,
        clear: ti.clear,
        values: ti.keys,
        size: ti.size,
        empty: ti.empty,
        each: ti.each
    };
    var ei = Array.prototype, ni = ei.map, ri = ei.slice, ii = "\\s*([+-]?\\d+)\\s*", ai = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*", oi = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*", ui = /^#([0-9a-f]{3})$/, fi = /^#([0-9a-f]{6})$/, ci = new RegExp("^rgb\\(" + [ ii, ii, ii ] + "\\)$"), si = new RegExp("^rgb\\(" + [ oi, oi, oi ] + "\\)$"), li = new RegExp("^rgba\\(" + [ ii, ii, ii, ai ] + "\\)$"), hi = new RegExp("^rgba\\(" + [ oi, oi, oi, ai ] + "\\)$"), di = new RegExp("^hsl\\(" + [ ai, oi, oi ] + "\\)$"), pi = new RegExp("^hsla\\(" + [ ai, oi, oi, ai ] + "\\)$"), vi = {
        aliceblue: 15792383,
        antiquewhite: 16444375,
        aqua: 65535,
        aquamarine: 8388564,
        azure: 15794175,
        beige: 16119260,
        bisque: 16770244,
        black: 0,
        blanchedalmond: 16772045,
        blue: 255,
        blueviolet: 9055202,
        brown: 10824234,
        burlywood: 14596231,
        cadetblue: 6266528,
        chartreuse: 8388352,
        chocolate: 13789470,
        coral: 16744272,
        cornflowerblue: 6591981,
        cornsilk: 16775388,
        crimson: 14423100,
        cyan: 65535,
        darkblue: 139,
        darkcyan: 35723,
        darkgoldenrod: 12092939,
        darkgray: 11119017,
        darkgreen: 25600,
        darkgrey: 11119017,
        darkkhaki: 12433259,
        darkmagenta: 9109643,
        darkolivegreen: 5597999,
        darkorange: 16747520,
        darkorchid: 10040012,
        darkred: 9109504,
        darksalmon: 15308410,
        darkseagreen: 9419919,
        darkslateblue: 4734347,
        darkslategray: 3100495,
        darkslategrey: 3100495,
        darkturquoise: 52945,
        darkviolet: 9699539,
        deeppink: 16716947,
        deepskyblue: 49151,
        dimgray: 6908265,
        dimgrey: 6908265,
        dodgerblue: 2003199,
        firebrick: 11674146,
        floralwhite: 16775920,
        forestgreen: 2263842,
        fuchsia: 16711935,
        gainsboro: 14474460,
        ghostwhite: 16316671,
        gold: 16766720,
        goldenrod: 14329120,
        gray: 8421504,
        green: 32768,
        greenyellow: 11403055,
        grey: 8421504,
        honeydew: 15794160,
        hotpink: 16738740,
        indianred: 13458524,
        indigo: 4915330,
        ivory: 16777200,
        khaki: 15787660,
        lavender: 15132410,
        lavenderblush: 16773365,
        lawngreen: 8190976,
        lemonchiffon: 16775885,
        lightblue: 11393254,
        lightcoral: 15761536,
        lightcyan: 14745599,
        lightgoldenrodyellow: 16448210,
        lightgray: 13882323,
        lightgreen: 9498256,
        lightgrey: 13882323,
        lightpink: 16758465,
        lightsalmon: 16752762,
        lightseagreen: 2142890,
        lightskyblue: 8900346,
        lightslategray: 7833753,
        lightslategrey: 7833753,
        lightsteelblue: 11584734,
        lightyellow: 16777184,
        lime: 65280,
        limegreen: 3329330,
        linen: 16445670,
        magenta: 16711935,
        maroon: 8388608,
        mediumaquamarine: 6737322,
        mediumblue: 205,
        mediumorchid: 12211667,
        mediumpurple: 9662683,
        mediumseagreen: 3978097,
        mediumslateblue: 8087790,
        mediumspringgreen: 64154,
        mediumturquoise: 4772300,
        mediumvioletred: 13047173,
        midnightblue: 1644912,
        mintcream: 16121850,
        mistyrose: 16770273,
        moccasin: 16770229,
        navajowhite: 16768685,
        navy: 128,
        oldlace: 16643558,
        olive: 8421376,
        olivedrab: 7048739,
        orange: 16753920,
        orangered: 16729344,
        orchid: 14315734,
        palegoldenrod: 15657130,
        palegreen: 10025880,
        paleturquoise: 11529966,
        palevioletred: 14381203,
        papayawhip: 16773077,
        peachpuff: 16767673,
        peru: 13468991,
        pink: 16761035,
        plum: 14524637,
        powderblue: 11591910,
        purple: 8388736,
        rebeccapurple: 6697881,
        red: 16711680,
        rosybrown: 12357519,
        royalblue: 4286945,
        saddlebrown: 9127187,
        salmon: 16416882,
        sandybrown: 16032864,
        seagreen: 3050327,
        seashell: 16774638,
        sienna: 10506797,
        silver: 12632256,
        skyblue: 8900331,
        slateblue: 6970061,
        slategray: 7372944,
        slategrey: 7372944,
        snow: 16775930,
        springgreen: 65407,
        steelblue: 4620980,
        tan: 13808780,
        teal: 32896,
        thistle: 14204888,
        tomato: 16737095,
        turquoise: 4251856,
        violet: 15631086,
        wheat: 16113331,
        white: 16777215,
        whitesmoke: 16119285,
        yellow: 16776960,
        yellowgreen: 10145074
    };
    c(l, h, {
        displayable: function() {
            return this.rgb().displayable();
        },
        toString: function() {
            return this.rgb() + "";
        }
    }), c(y, g, s(l, {
        brighter: function(t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new y(this.r * t, this.g * t, this.b * t, this.opacity);
        },
        darker: function(t) {
            return t = null == t ? .7 : Math.pow(.7, t), new y(this.r * t, this.g * t, this.b * t, this.opacity);
        },
        rgb: function() {
            return this;
        },
        displayable: function() {
            return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1;
        },
        toString: function() {
            var t = this.opacity;
            return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? ")" : ", " + t + ")");
        }
    })), c(m, function(t, e, n, r) {
        return 1 === arguments.length ? function(t) {
            if (t instanceof m) return new m(t.h, t.s, t.l, t.opacity);
            if (t instanceof l || (t = h(t)), !t) return new m();
            if (t instanceof m) return t;
            var e = (t = t.rgb()).r / 255, n = t.g / 255, r = t.b / 255, i = Math.min(e, n, r), a = Math.max(e, n, r), o = NaN, u = a - i, f = (a + i) / 2;
            return u ? (o = e === a ? (n - r) / u + 6 * (n < r) : n === a ? (r - e) / u + 2 : (e - n) / u + 4, 
            u /= f < .5 ? a + i : 2 - a - i, o *= 60) : u = f > 0 && f < 1 ? 0 : o, new m(o, u, f, t.opacity);
        }(t) : new m(t, e, n, null == r ? 1 : r);
    }, s(l, {
        brighter: function(t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new m(this.h, this.s, this.l * t, this.opacity);
        },
        darker: function(t) {
            return t = null == t ? .7 : Math.pow(.7, t), new m(this.h, this.s, this.l * t, this.opacity);
        },
        rgb: function() {
            var t = this.h % 360 + 360 * (this.h < 0), e = isNaN(t) || isNaN(this.s) ? 0 : this.s, n = this.l, r = n + (n < .5 ? n : 1 - n) * e, i = 2 * n - r;
            return new y(_(t >= 240 ? t - 240 : t + 120, i, r), _(t, i, r), _(t < 120 ? t + 240 : t - 120, i, r), this.opacity);
        },
        displayable: function() {
            return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
        }
    }));
    var gi = Math.PI / 180, yi = 180 / Math.PI, bi = .95047, mi = 1, _i = 1.08883, wi = 4 / 29, xi = 6 / 29, Mi = 3 * xi * xi, Ci = xi * xi * xi;
    c(x, function(t, e, n, r) {
        return 1 === arguments.length ? w(t) : new x(t, e, n, null == r ? 1 : r);
    }, s(l, {
        brighter: function(t) {
            return new x(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);
        },
        darker: function(t) {
            return new x(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity);
        },
        rgb: function() {
            var t = (this.l + 16) / 116, e = isNaN(this.a) ? t : t + this.a / 500, n = isNaN(this.b) ? t : t - this.b / 200;
            return t = mi * C(t), e = bi * C(e), n = _i * C(n), new y(S(3.2404542 * e - 1.5371385 * t - .4985314 * n), S(-.969266 * e + 1.8760108 * t + .041556 * n), S(.0556434 * e - .2040259 * t + 1.0572252 * n), this.opacity);
        }
    })), c(A, function(t, e, n, r) {
        return 1 === arguments.length ? function(t) {
            if (t instanceof A) return new A(t.h, t.c, t.l, t.opacity);
            t instanceof x || (t = w(t));
            var e = Math.atan2(t.b, t.a) * yi;
            return new A(e < 0 ? e + 360 : e, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity);
        }(t) : new A(t, e, n, null == r ? 1 : r);
    }, s(l, {
        brighter: function(t) {
            return new A(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity);
        },
        darker: function(t) {
            return new A(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity);
        },
        rgb: function() {
            return w(this).rgb();
        }
    }));
    var Si = -.29227, Ti = -.90649, Ai = 1.97294, ji = Ai * Ti, ki = 1.78277 * Ai, Ei = 1.78277 * Si - -.14861 * Ti;
    c(k, j, s(l, {
        brighter: function(t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t), new k(this.h, this.s, this.l * t, this.opacity);
        },
        darker: function(t) {
            return t = null == t ? .7 : Math.pow(.7, t), new k(this.h, this.s, this.l * t, this.opacity);
        },
        rgb: function() {
            var t = isNaN(this.h) ? 0 : (this.h + 120) * gi, e = +this.l, n = isNaN(this.s) ? 0 : this.s * e * (1 - e), r = Math.cos(t), i = Math.sin(t);
            return new y(255 * (e + n * (-.14861 * r + 1.78277 * i)), 255 * (e + n * (Si * r + Ti * i)), 255 * (e + n * (Ai * r)), this.opacity);
        }
    }));
    var Ni, Di, Oi, Pi, Ui = function t(e) {
        function n(t, e) {
            var n = r((t = g(t)).r, (e = g(e)).r), i = r(t.g, e.g), a = r(t.b, e.b), o = O(t.opacity, e.opacity);
            return function(e) {
                return t.r = n(e), t.g = i(e), t.b = a(e), t.opacity = o(e), t + "";
            };
        }
        var r = D(e);
        return n.gamma = t, n;
    }(1), Hi = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Ii = new RegExp(Hi.source, "g"), Fi = 180 / Math.PI, Li = {
        translateX: 0,
        translateY: 0,
        rotate: 0,
        skewX: 0,
        scaleX: 1,
        scaleY: 1
    }, zi = L(function(t) {
        return "none" === t ? Li : (Ni || (Ni = document.createElement("DIV"), Di = document.documentElement, 
        Oi = document.defaultView), Ni.style.transform = t, t = Oi.getComputedStyle(Di.appendChild(Ni), null).getPropertyValue("transform"), 
        Di.removeChild(Ni), t = t.slice(7, -1).split(","), F(+t[0], +t[1], +t[2], +t[3], +t[4], +t[5]));
    }, "px, ", "px)", "deg)"), Yi = L(function(t) {
        return null == t ? Li : (Pi || (Pi = document.createElementNS("http://www.w3.org/2000/svg", "g")), 
        Pi.setAttribute("transform", t), (t = Pi.transform.baseVal.consolidate()) ? (t = t.matrix, 
        F(t.a, t.b, t.c, t.d, t.e, t.f)) : Li);
    }, ", ", ")", ")");
    Math.SQRT2;
    z(function(t, e) {
        var n = e - t;
        return n ? N(t, n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n) : E(isNaN(t) ? e : t);
    });
    var Ri, Bi = z(O), $i = [ 0, 1 ], Xi = {
        "": function(t, e) {
            t: for (var n, r = (t = t.toPrecision(e)).length, i = 1, a = -1; i < r; ++i) switch (t[i]) {
              case ".":
                a = n = i;
                break;

              case "0":
                0 === a && (a = i), n = i;
                break;

              case "e":
                break t;

              default:
                a > 0 && (a = 0);
            }
            return a > 0 ? t.slice(0, a) + t.slice(n + 1) : t;
        },
        "%": function(t, e) {
            return (100 * t).toFixed(e);
        },
        b: function(t) {
            return Math.round(t).toString(2);
        },
        c: function(t) {
            return t + "";
        },
        d: function(t) {
            return Math.round(t).toString(10);
        },
        e: function(t, e) {
            return t.toExponential(e);
        },
        f: function(t, e) {
            return t.toFixed(e);
        },
        g: function(t, e) {
            return t.toPrecision(e);
        },
        o: function(t) {
            return Math.round(t).toString(8);
        },
        p: function(t, e) {
            return W(100 * t, e);
        },
        r: W,
        s: function(t, e) {
            var n = X(t, e);
            if (!n) return t + "";
            var r = n[0], i = n[1], a = i - (Ri = 3 * Math.max(-8, Math.min(8, Math.floor(i / 3)))) + 1, o = r.length;
            return a === o ? r : a > o ? r + new Array(a - o + 1).join("0") : a > 0 ? r.slice(0, a) + "." + r.slice(a) : "0." + new Array(1 - a).join("0") + X(t, Math.max(0, e + a - 1))[0];
        },
        X: function(t) {
            return Math.round(t).toString(16).toUpperCase();
        },
        x: function(t) {
            return Math.round(t).toString(16);
        }
    }, Vi = /^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;
    q.prototype = Q.prototype, Q.prototype.toString = function() {
        return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (null == this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (null == this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + this.type;
    };
    var Wi, qi, Qi, Gi = [ "y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y" ];
    !function(t) {
        Wi = J(t), qi = Wi.format, Qi = Wi.formatPrefix;
    }({
        decimal: ".",
        thousands: ",",
        grouping: [ 3 ],
        currency: [ "$", "" ]
    });
    var Ji = new Date(), Zi = new Date(), Ki = et(function() {}, function(t, e) {
        t.setTime(+t + e);
    }, function(t, e) {
        return e - t;
    });
    Ki.every = function(t) {
        return t = Math.floor(t), isFinite(t) && t > 0 ? t > 1 ? et(function(e) {
            e.setTime(Math.floor(e / t) * t);
        }, function(e, n) {
            e.setTime(+e + n * t);
        }, function(e, n) {
            return (n - e) / t;
        }) : Ki : null;
    };
    var ta = 6e4, ea = 6048e5, na = (et(function(t) {
        t.setTime(1e3 * Math.floor(t / 1e3));
    }, function(t, e) {
        t.setTime(+t + 1e3 * e);
    }, function(t, e) {
        return (e - t) / 1e3;
    }, function(t) {
        return t.getUTCSeconds();
    }), et(function(t) {
        t.setTime(Math.floor(t / ta) * ta);
    }, function(t, e) {
        t.setTime(+t + e * ta);
    }, function(t, e) {
        return (e - t) / ta;
    }, function(t) {
        return t.getMinutes();
    }), et(function(t) {
        var e = t.getTimezoneOffset() * ta % 36e5;
        e < 0 && (e += 36e5), t.setTime(36e5 * Math.floor((+t - e) / 36e5) + e);
    }, function(t, e) {
        t.setTime(+t + 36e5 * e);
    }, function(t, e) {
        return (e - t) / 36e5;
    }, function(t) {
        return t.getHours();
    }), et(function(t) {
        t.setHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setDate(t.getDate() + e);
    }, function(t, e) {
        return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * ta) / 864e5;
    }, function(t) {
        return t.getDate() - 1;
    })), ra = nt(0), ia = nt(1), aa = (nt(2), nt(3), nt(4)), oa = (nt(5), nt(6), et(function(t) {
        t.setDate(1), t.setHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setMonth(t.getMonth() + e);
    }, function(t, e) {
        return e.getMonth() - t.getMonth() + 12 * (e.getFullYear() - t.getFullYear());
    }, function(t) {
        return t.getMonth();
    }), et(function(t) {
        t.setMonth(0, 1), t.setHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setFullYear(t.getFullYear() + e);
    }, function(t, e) {
        return e.getFullYear() - t.getFullYear();
    }, function(t) {
        return t.getFullYear();
    }));
    oa.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? et(function(e) {
            e.setFullYear(Math.floor(e.getFullYear() / t) * t), e.setMonth(0, 1), e.setHours(0, 0, 0, 0);
        }, function(e, n) {
            e.setFullYear(e.getFullYear() + n * t);
        }) : null;
    };
    et(function(t) {
        t.setUTCSeconds(0, 0);
    }, function(t, e) {
        t.setTime(+t + e * ta);
    }, function(t, e) {
        return (e - t) / ta;
    }, function(t) {
        return t.getUTCMinutes();
    }), et(function(t) {
        t.setUTCMinutes(0, 0, 0);
    }, function(t, e) {
        t.setTime(+t + 36e5 * e);
    }, function(t, e) {
        return (e - t) / 36e5;
    }, function(t) {
        return t.getUTCHours();
    });
    var ua = et(function(t) {
        t.setUTCHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setUTCDate(t.getUTCDate() + e);
    }, function(t, e) {
        return (e - t) / 864e5;
    }, function(t) {
        return t.getUTCDate() - 1;
    }), fa = rt(0), ca = rt(1), sa = (rt(2), rt(3), rt(4)), la = (rt(5), rt(6), et(function(t) {
        t.setUTCDate(1), t.setUTCHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setUTCMonth(t.getUTCMonth() + e);
    }, function(t, e) {
        return e.getUTCMonth() - t.getUTCMonth() + 12 * (e.getUTCFullYear() - t.getUTCFullYear());
    }, function(t) {
        return t.getUTCMonth();
    }), et(function(t) {
        t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0);
    }, function(t, e) {
        t.setUTCFullYear(t.getUTCFullYear() + e);
    }, function(t, e) {
        return e.getUTCFullYear() - t.getUTCFullYear();
    }, function(t) {
        return t.getUTCFullYear();
    }));
    la.every = function(t) {
        return isFinite(t = Math.floor(t)) && t > 0 ? et(function(e) {
            e.setUTCFullYear(Math.floor(e.getUTCFullYear() / t) * t), e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0);
        }, function(e, n) {
            e.setUTCFullYear(e.getUTCFullYear() + n * t);
        }) : null;
    };
    var ha, da, pa, va = {
        "-": "",
        _: " ",
        "0": "0"
    }, ga = /^\s*\d+/, ya = /^%/, ba = /[\\^$*+?|[\]().{}]/g;
    !function(t) {
        ha = function(t) {
            function e(t, e) {
                return function(n) {
                    var r, i, a, o = [], u = -1, f = 0, c = t.length;
                    for (n instanceof Date || (n = new Date(+n)); ++u < c; ) 37 === t.charCodeAt(u) && (o.push(t.slice(f, u)), 
                    null != (i = va[r = t.charAt(++u)]) ? r = t.charAt(++u) : i = "e" === r ? " " : "0", 
                    (a = e[r]) && (r = a(n, i)), o.push(r), f = u + 1);
                    return o.push(t.slice(f, u)), o.join("");
                };
            }
            function n(t, e) {
                return function(n) {
                    var i, a, o = ot(1900);
                    if (r(o, t, n += "", 0) != n.length) return null;
                    if ("Q" in o) return new Date(o.Q);
                    if ("p" in o && (o.H = o.H % 12 + 12 * o.p), "V" in o) {
                        if (o.V < 1 || o.V > 53) return null;
                        "w" in o || (o.w = 1), "Z" in o ? (i = (a = (i = at(ot(o.y))).getUTCDay()) > 4 || 0 === a ? ca.ceil(i) : ca(i), 
                        i = ua.offset(i, 7 * (o.V - 1)), o.y = i.getUTCFullYear(), o.m = i.getUTCMonth(), 
                        o.d = i.getUTCDate() + (o.w + 6) % 7) : (i = (a = (i = e(ot(o.y))).getDay()) > 4 || 0 === a ? ia.ceil(i) : ia(i), 
                        i = na.offset(i, 7 * (o.V - 1)), o.y = i.getFullYear(), o.m = i.getMonth(), o.d = i.getDate() + (o.w + 6) % 7);
                    } else ("W" in o || "U" in o) && ("w" in o || (o.w = "u" in o ? o.u % 7 : "W" in o ? 1 : 0), 
                    a = "Z" in o ? at(ot(o.y)).getUTCDay() : e(ot(o.y)).getDay(), o.m = 0, o.d = "W" in o ? (o.w + 6) % 7 + 7 * o.W - (a + 5) % 7 : o.w + 7 * o.U - (a + 6) % 7);
                    return "Z" in o ? (o.H += o.Z / 100 | 0, o.M += o.Z % 100, at(o)) : e(o);
                };
            }
            function r(t, e, n, r) {
                for (var i, a, o = 0, u = e.length, f = n.length; o < u; ) {
                    if (r >= f) return -1;
                    if (37 === (i = e.charCodeAt(o++))) {
                        if (i = e.charAt(o++), !(a = C[i in va ? e.charAt(o++) : i]) || (r = a(t, n, r)) < 0) return -1;
                    } else if (i != n.charCodeAt(r++)) return -1;
                }
                return r;
            }
            var i = t.dateTime, a = t.date, o = t.time, u = t.periods, f = t.days, c = t.shortDays, s = t.months, l = t.shortMonths, h = ct(u), d = st(u), p = ct(f), v = st(f), g = ct(c), y = st(c), b = ct(s), m = st(s), _ = ct(l), w = st(l), x = {
                a: function(t) {
                    return c[t.getDay()];
                },
                A: function(t) {
                    return f[t.getDay()];
                },
                b: function(t) {
                    return l[t.getMonth()];
                },
                B: function(t) {
                    return s[t.getMonth()];
                },
                c: null,
                d: Et,
                e: Et,
                f: Ut,
                H: Nt,
                I: Dt,
                j: Ot,
                L: Pt,
                m: Ht,
                M: It,
                p: function(t) {
                    return u[+(t.getHours() >= 12)];
                },
                Q: le,
                s: he,
                S: Ft,
                u: Lt,
                U: zt,
                V: Yt,
                w: Rt,
                W: Bt,
                x: null,
                X: null,
                y: $t,
                Y: Xt,
                Z: Vt,
                "%": se
            }, M = {
                a: function(t) {
                    return c[t.getUTCDay()];
                },
                A: function(t) {
                    return f[t.getUTCDay()];
                },
                b: function(t) {
                    return l[t.getUTCMonth()];
                },
                B: function(t) {
                    return s[t.getUTCMonth()];
                },
                c: null,
                d: Wt,
                e: Wt,
                f: Zt,
                H: qt,
                I: Qt,
                j: Gt,
                L: Jt,
                m: Kt,
                M: te,
                p: function(t) {
                    return u[+(t.getUTCHours() >= 12)];
                },
                Q: le,
                s: he,
                S: ee,
                u: ne,
                U: re,
                V: ie,
                w: ae,
                W: oe,
                x: null,
                X: null,
                y: ue,
                Y: fe,
                Z: ce,
                "%": se
            }, C = {
                a: function(t, e, n) {
                    var r = g.exec(e.slice(n));
                    return r ? (t.w = y[r[0].toLowerCase()], n + r[0].length) : -1;
                },
                A: function(t, e, n) {
                    var r = p.exec(e.slice(n));
                    return r ? (t.w = v[r[0].toLowerCase()], n + r[0].length) : -1;
                },
                b: function(t, e, n) {
                    var r = _.exec(e.slice(n));
                    return r ? (t.m = w[r[0].toLowerCase()], n + r[0].length) : -1;
                },
                B: function(t, e, n) {
                    var r = b.exec(e.slice(n));
                    return r ? (t.m = m[r[0].toLowerCase()], n + r[0].length) : -1;
                },
                c: function(t, e, n) {
                    return r(t, i, e, n);
                },
                d: _t,
                e: _t,
                f: Tt,
                H: xt,
                I: xt,
                j: wt,
                L: St,
                m: mt,
                M: Mt,
                p: function(t, e, n) {
                    var r = h.exec(e.slice(n));
                    return r ? (t.p = d[r[0].toLowerCase()], n + r[0].length) : -1;
                },
                Q: jt,
                s: kt,
                S: Ct,
                u: ht,
                U: dt,
                V: pt,
                w: lt,
                W: vt,
                x: function(t, e, n) {
                    return r(t, a, e, n);
                },
                X: function(t, e, n) {
                    return r(t, o, e, n);
                },
                y: yt,
                Y: gt,
                Z: bt,
                "%": At
            };
            return x.x = e(a, x), x.X = e(o, x), x.c = e(i, x), M.x = e(a, M), M.X = e(o, M), 
            M.c = e(i, M), {
                format: function(t) {
                    var n = e(t += "", x);
                    return n.toString = function() {
                        return t;
                    }, n;
                },
                parse: function(t) {
                    var e = n(t += "", it);
                    return e.toString = function() {
                        return t;
                    }, e;
                },
                utcFormat: function(t) {
                    var n = e(t += "", M);
                    return n.toString = function() {
                        return t;
                    }, n;
                },
                utcParse: function(t) {
                    var e = n(t, at);
                    return e.toString = function() {
                        return t;
                    }, e;
                }
            };
        }(t), ha.format, ha.parse, da = ha.utcFormat, pa = ha.utcParse;
    }({
        dateTime: "%x, %X",
        date: "%-m/%-d/%Y",
        time: "%-I:%M:%S %p",
        periods: [ "AM", "PM" ],
        days: [ "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday" ],
        shortDays: [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ],
        months: [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
        shortMonths: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]
    });
    var ma = "%Y-%m-%dT%H:%M:%S.%LZ";
    Date.prototype.toISOString || da(ma), +new Date("2000-01-01T00:00:00.000Z") || pa(ma);
    de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"), de("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"), 
    de("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"), 
    de("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"), 
    Bi(j(300, .5, 0), j(-240, .5, 1));
    Bi(j(-100, .75, .35), j(80, 1.5, .8)), Bi(j(260, .75, .35), j(80, 1.5, .8)), j();
    pe(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
    pe(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")), 
    pe(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")), 
    pe(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
    var _a = Math.PI, wa = 2 * _a, xa = wa - 1e-6;
    ve.prototype = ge.prototype = {
        constructor: ve,
        moveTo: function(t, e) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e);
        },
        closePath: function() {
            null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z");
        },
        lineTo: function(t, e) {
            this._ += "L" + (this._x1 = +t) + "," + (this._y1 = +e);
        },
        quadraticCurveTo: function(t, e, n, r) {
            this._ += "Q" + +t + "," + +e + "," + (this._x1 = +n) + "," + (this._y1 = +r);
        },
        bezierCurveTo: function(t, e, n, r, i, a) {
            this._ += "C" + +t + "," + +e + "," + +n + "," + +r + "," + (this._x1 = +i) + "," + (this._y1 = +a);
        },
        arcTo: function(t, e, n, r, i) {
            t = +t, e = +e, n = +n, r = +r, i = +i;
            var a = this._x1, o = this._y1, u = n - t, f = r - e, c = a - t, s = o - e, l = c * c + s * s;
            if (i < 0) throw new Error("negative radius: " + i);
            if (null === this._x1) this._ += "M" + (this._x1 = t) + "," + (this._y1 = e); else if (l > 1e-6) if (Math.abs(s * u - f * c) > 1e-6 && i) {
                var h = n - a, d = r - o, p = u * u + f * f, v = h * h + d * d, g = Math.sqrt(p), y = Math.sqrt(l), b = i * Math.tan((_a - Math.acos((p + l - v) / (2 * g * y))) / 2), m = b / y, _ = b / g;
                Math.abs(m - 1) > 1e-6 && (this._ += "L" + (t + m * c) + "," + (e + m * s)), this._ += "A" + i + "," + i + ",0,0," + +(s * h > c * d) + "," + (this._x1 = t + _ * u) + "," + (this._y1 = e + _ * f);
            } else this._ += "L" + (this._x1 = t) + "," + (this._y1 = e); else ;
        },
        arc: function(t, e, n, r, i, a) {
            t = +t, e = +e;
            var o = (n = +n) * Math.cos(r), u = n * Math.sin(r), f = t + o, c = e + u, s = 1 ^ a, l = a ? r - i : i - r;
            if (n < 0) throw new Error("negative radius: " + n);
            null === this._x1 ? this._ += "M" + f + "," + c : (Math.abs(this._x1 - f) > 1e-6 || Math.abs(this._y1 - c) > 1e-6) && (this._ += "L" + f + "," + c), 
            n && (l < 0 && (l = l % wa + wa), l > xa ? this._ += "A" + n + "," + n + ",0,1," + s + "," + (t - o) + "," + (e - u) + "A" + n + "," + n + ",0,1," + s + "," + (this._x1 = f) + "," + (this._y1 = c) : l > 1e-6 && (this._ += "A" + n + "," + n + ",0," + +(l >= _a) + "," + s + "," + (this._x1 = t + n * Math.cos(i)) + "," + (this._y1 = e + n * Math.sin(i))));
        },
        rect: function(t, e, n, r) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e) + "h" + +n + "v" + +r + "h" + -n + "Z";
        },
        toString: function() {
            return this._;
        }
    };
    Math.PI;
    be.prototype = {
        areaStart: function() {
            this._line = 0;
        },
        areaEnd: function() {
            this._line = NaN;
        },
        lineStart: function() {
            this._point = 0;
        },
        lineEnd: function() {
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), 
            this._line = 1 - this._line;
        },
        point: function(t, e) {
            switch (t = +t, e = +e, this._point) {
              case 0:
                this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;

              case 1:
                this._point = 2;

              default:
                this._context.lineTo(t, e);
            }
        }
    }, Te.prototype = {
        areaStart: function() {
            this._line = 0;
        },
        areaEnd: function() {
            this._line = NaN;
        },
        lineStart: function() {
            this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0;
        },
        lineEnd: function() {
            switch (this._point) {
              case 2:
                this._context.lineTo(this._x1, this._y1);
                break;

              case 3:
                Se(this, this._t0, Ce(this, this._t0));
            }
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(), 
            this._line = 1 - this._line;
        },
        point: function(t, e) {
            var n = NaN;
            if (t = +t, e = +e, t !== this._x1 || e !== this._y1) {
                switch (this._point) {
                  case 0:
                    this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                    break;

                  case 1:
                    this._point = 2;
                    break;

                  case 2:
                    this._point = 3, Se(this, Ce(this, n = Me(this, t, e)), n);
                    break;

                  default:
                    Se(this, this._t0, n = Me(this, t, e));
                }
                this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = e, this._t0 = n;
            }
        }
    }, (function(t) {
        this._context = new Ae(t);
    }.prototype = Object.create(Te.prototype)).point = function(t, e) {
        Te.prototype.point.call(this, e, t);
    }, Ae.prototype = {
        moveTo: function(t, e) {
            this._context.moveTo(e, t);
        },
        closePath: function() {
            this._context.closePath();
        },
        lineTo: function(t, e) {
            this._context.lineTo(e, t);
        },
        bezierCurveTo: function(t, e, n, r, i, a) {
            this._context.bezierCurveTo(e, t, r, n, a, i);
        }
    };
    var Ma = {
        value: function() {}
    };
    ke.prototype = je.prototype = {
        constructor: ke,
        on: function(t, e) {
            var n, r = this._, i = function(t, e) {
                return t.trim().split(/^|\s+/).map(function(t) {
                    var n = "", r = t.indexOf(".");
                    if (r >= 0 && (n = t.slice(r + 1), t = t.slice(0, r)), t && !e.hasOwnProperty(t)) throw new Error("unknown type: " + t);
                    return {
                        type: t,
                        name: n
                    };
                });
            }(t + "", r), a = -1, o = i.length;
            {
                if (!(arguments.length < 2)) {
                    if (null != e && "function" != typeof e) throw new Error("invalid callback: " + e);
                    for (;++a < o; ) if (n = (t = i[a]).type) r[n] = Ee(r[n], t.name, e); else if (null == e) for (n in r) r[n] = Ee(r[n], t.name, null);
                    return this;
                }
                for (;++a < o; ) if ((n = (t = i[a]).type) && (n = function(t, e) {
                    for (var n, r = 0, i = t.length; r < i; ++r) if ((n = t[r]).name === e) return n.value;
                }(r[n], t.name))) return n;
            }
        },
        copy: function() {
            var t = {}, e = this._;
            for (var n in e) t[n] = e[n].slice();
            return new ke(t);
        },
        call: function(t, e) {
            if ((n = arguments.length - 2) > 0) for (var n, r, i = new Array(n), a = 0; a < n; ++a) i[a] = arguments[a + 2];
            if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
            for (a = 0, n = (r = this._[t]).length; a < n; ++a) r[a].value.apply(e, i);
        },
        apply: function(t, e, n) {
            if (!this._.hasOwnProperty(t)) throw new Error("unknown type: " + t);
            for (var r = this._[t], i = 0, a = r.length; i < a; ++i) r[i].value.apply(e, n);
        }
    };
    var Ca = "http://www.w3.org/1999/xhtml", Sa = {
        svg: "http://www.w3.org/2000/svg",
        xhtml: Ca,
        xlink: "http://www.w3.org/1999/xlink",
        xml: "http://www.w3.org/XML/1998/namespace",
        xmlns: "http://www.w3.org/2000/xmlns/"
    }, Ta = function(t) {
        return function() {
            return this.matches(t);
        };
    };
    if ("undefined" != typeof document) {
        var Aa = document.documentElement;
        if (!Aa.matches) {
            var ja = Aa.webkitMatchesSelector || Aa.msMatchesSelector || Aa.mozMatchesSelector || Aa.oMatchesSelector;
            Ta = function(t) {
                return function() {
                    return ja.call(this, t);
                };
            };
        }
    }
    var ka = Ta, Ea = {};
    if ("undefined" != typeof document) {
        "onmouseenter" in document.documentElement || (Ea = {
            mouseenter: "mouseover",
            mouseleave: "mouseout"
        });
    }
    Re.prototype = {
        constructor: Re,
        appendChild: function(t) {
            return this._parent.insertBefore(t, this._next);
        },
        insertBefore: function(t, e) {
            return this._parent.insertBefore(t, e);
        },
        querySelector: function(t) {
            return this._parent.querySelector(t);
        },
        querySelectorAll: function(t) {
            return this._parent.querySelectorAll(t);
        }
    };
    var Na = "$";
    Ge.prototype = {
        add: function(t) {
            this._names.indexOf(t) < 0 && (this._names.push(t), this._node.setAttribute("class", this._names.join(" ")));
        },
        remove: function(t) {
            var e = this._names.indexOf(t);
            e >= 0 && (this._names.splice(e, 1), this._node.setAttribute("class", this._names.join(" ")));
        },
        contains: function(t) {
            return this._names.indexOf(t) >= 0;
        }
    };
    var Da = [ null ];
    un.prototype = fn.prototype = {
        constructor: un,
        select: function(t) {
            "function" != typeof t && (t = Fe(t));
            for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i) for (var a, o, u = e[i], f = u.length, c = r[i] = new Array(f), s = 0; s < f; ++s) (a = u[s]) && (o = t.call(a, a.__data__, s, u)) && ("__data__" in a && (o.__data__ = a.__data__), 
            c[s] = o);
            return new un(r, this._parents);
        },
        selectAll: function(t) {
            "function" != typeof t && (t = ze(t));
            for (var e = this._groups, n = e.length, r = [], i = [], a = 0; a < n; ++a) for (var o, u = e[a], f = u.length, c = 0; c < f; ++c) (o = u[c]) && (r.push(t.call(o, o.__data__, c, u)), 
            i.push(o));
            return new un(r, i);
        },
        filter: function(t) {
            "function" != typeof t && (t = ka(t));
            for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i) for (var a, o = e[i], u = o.length, f = r[i] = [], c = 0; c < u; ++c) (a = o[c]) && t.call(a, a.__data__, c, o) && f.push(a);
            return new un(r, this._parents);
        },
        data: function(t, e) {
            if (!t) return d = new Array(this.size()), c = -1, this.each(function(t) {
                d[++c] = t;
            }), d;
            var n = e ? $e : Be, r = this._parents, i = this._groups;
            "function" != typeof t && (t = function(t) {
                return function() {
                    return t;
                };
            }(t));
            for (var a = i.length, o = new Array(a), u = new Array(a), f = new Array(a), c = 0; c < a; ++c) {
                var s = r[c], l = i[c], h = l.length, d = t.call(s, s && s.__data__, c, r), p = d.length, v = u[c] = new Array(p), g = o[c] = new Array(p);
                n(s, l, v, g, f[c] = new Array(h), d, e);
                for (var y, b, m = 0, _ = 0; m < p; ++m) if (y = v[m]) {
                    for (m >= _ && (_ = m + 1); !(b = g[_]) && ++_ < p; ) ;
                    y._next = b || null;
                }
            }
            return o = new un(o, r), o._enter = u, o._exit = f, o;
        },
        enter: function() {
            return new un(this._enter || this._groups.map(Ye), this._parents);
        },
        exit: function() {
            return new un(this._exit || this._groups.map(Ye), this._parents);
        },
        merge: function(t) {
            for (var e = this._groups, n = t._groups, r = e.length, i = n.length, a = Math.min(r, i), o = new Array(r), u = 0; u < a; ++u) for (var f, c = e[u], s = n[u], l = c.length, h = o[u] = new Array(l), d = 0; d < l; ++d) (f = c[d] || s[d]) && (h[d] = f);
            for (;u < r; ++u) o[u] = e[u];
            return new un(o, this._parents);
        },
        order: function() {
            for (var t = this._groups, e = -1, n = t.length; ++e < n; ) for (var r, i = t[e], a = i.length - 1, o = i[a]; --a >= 0; ) (r = i[a]) && (o && o !== r.nextSibling && o.parentNode.insertBefore(r, o), 
            o = r);
            return this;
        },
        sort: function(t) {
            function e(e, n) {
                return e && n ? t(e.__data__, n.__data__) : !e - !n;
            }
            t || (t = Xe);
            for (var n = this._groups, r = n.length, i = new Array(r), a = 0; a < r; ++a) {
                for (var o, u = n[a], f = u.length, c = i[a] = new Array(f), s = 0; s < f; ++s) (o = u[s]) && (c[s] = o);
                c.sort(e);
            }
            return new un(i, this._parents).order();
        },
        call: function() {
            var t = arguments[0];
            return arguments[0] = this, t.apply(null, arguments), this;
        },
        nodes: function() {
            var t = new Array(this.size()), e = -1;
            return this.each(function() {
                t[++e] = this;
            }), t;
        },
        node: function() {
            for (var t = this._groups, e = 0, n = t.length; e < n; ++e) for (var r = t[e], i = 0, a = r.length; i < a; ++i) {
                var o = r[i];
                if (o) return o;
            }
            return null;
        },
        size: function() {
            var t = 0;
            return this.each(function() {
                ++t;
            }), t;
        },
        empty: function() {
            return !this.node();
        },
        each: function(t) {
            for (var e = this._groups, n = 0, r = e.length; n < r; ++n) for (var i, a = e[n], o = 0, u = a.length; o < u; ++o) (i = a[o]) && t.call(i, i.__data__, o, a);
            return this;
        },
        attr: function(t, e) {
            var n = Ne(t);
            if (arguments.length < 2) {
                var r = this.node();
                return n.local ? r.getAttributeNS(n.space, n.local) : r.getAttribute(n);
            }
            return this.each((null == e ? n.local ? function(t) {
                return function() {
                    this.removeAttributeNS(t.space, t.local);
                };
            } : function(t) {
                return function() {
                    this.removeAttribute(t);
                };
            } : "function" == typeof e ? n.local ? function(t, e) {
                return function() {
                    var n = e.apply(this, arguments);
                    null == n ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, n);
                };
            } : function(t, e) {
                return function() {
                    var n = e.apply(this, arguments);
                    null == n ? this.removeAttribute(t) : this.setAttribute(t, n);
                };
            } : n.local ? function(t, e) {
                return function() {
                    this.setAttributeNS(t.space, t.local, e);
                };
            } : function(t, e) {
                return function() {
                    this.setAttribute(t, e);
                };
            })(n, e));
        },
        style: function(t, e, n) {
            return arguments.length > 1 ? this.each((null == e ? function(t) {
                return function() {
                    this.style.removeProperty(t);
                };
            } : "function" == typeof e ? function(t, e, n) {
                return function() {
                    var r = e.apply(this, arguments);
                    null == r ? this.style.removeProperty(t) : this.style.setProperty(t, r, n);
                };
            } : function(t, e, n) {
                return function() {
                    this.style.setProperty(t, e, n);
                };
            })(t, e, null == n ? "" : n)) : We(this.node(), t);
        },
        property: function(t, e) {
            return arguments.length > 1 ? this.each((null == e ? function(t) {
                return function() {
                    delete this[t];
                };
            } : "function" == typeof e ? function(t, e) {
                return function() {
                    var n = e.apply(this, arguments);
                    null == n ? delete this[t] : this[t] = n;
                };
            } : function(t, e) {
                return function() {
                    this[t] = e;
                };
            })(t, e)) : this.node()[t];
        },
        classed: function(t, e) {
            var n = qe(t + "");
            if (arguments.length < 2) {
                for (var r = Qe(this.node()), i = -1, a = n.length; ++i < a; ) if (!r.contains(n[i])) return !1;
                return !0;
            }
            return this.each(("function" == typeof e ? function(t, e) {
                return function() {
                    (e.apply(this, arguments) ? Je : Ze)(this, t);
                };
            } : e ? function(t) {
                return function() {
                    Je(this, t);
                };
            } : function(t) {
                return function() {
                    Ze(this, t);
                };
            })(n, e));
        },
        text: function(t) {
            return arguments.length ? this.each(null == t ? Ke : ("function" == typeof t ? function(t) {
                return function() {
                    var e = t.apply(this, arguments);
                    this.textContent = null == e ? "" : e;
                };
            } : function(t) {
                return function() {
                    this.textContent = t;
                };
            })(t)) : this.node().textContent;
        },
        html: function(t) {
            return arguments.length ? this.each(null == t ? tn : ("function" == typeof t ? function(t) {
                return function() {
                    var e = t.apply(this, arguments);
                    this.innerHTML = null == e ? "" : e;
                };
            } : function(t) {
                return function() {
                    this.innerHTML = t;
                };
            })(t)) : this.node().innerHTML;
        },
        raise: function() {
            return this.each(en);
        },
        lower: function() {
            return this.each(nn);
        },
        append: function(t) {
            var e = "function" == typeof t ? t : De(t);
            return this.select(function() {
                return this.appendChild(e.apply(this, arguments));
            });
        },
        insert: function(t, e) {
            var n = "function" == typeof t ? t : De(t), r = null == e ? rn : "function" == typeof e ? e : Fe(e);
            return this.select(function() {
                return this.insertBefore(n.apply(this, arguments), r.apply(this, arguments) || null);
            });
        },
        remove: function() {
            return this.each(an);
        },
        datum: function(t) {
            return arguments.length ? this.property("__data__", t) : this.node().__data__;
        },
        on: function(t, e, n) {
            var r, i, a = function(t) {
                return t.trim().split(/^|\s+/).map(function(t) {
                    var e = "", n = t.indexOf(".");
                    return n >= 0 && (e = t.slice(n + 1), t = t.slice(0, n)), {
                        type: t,
                        name: e
                    };
                });
            }(t + ""), o = a.length;
            if (!(arguments.length < 2)) {
                for (u = e ? He : Ue, null == n && (n = !1), r = 0; r < o; ++r) this.each(u(a[r], e, n));
                return this;
            }
            var u = this.node().__on;
            if (u) for (var f, c = 0, s = u.length; c < s; ++c) for (r = 0, f = u[c]; r < o; ++r) if ((i = a[r]).type === f.type && i.name === f.name) return f.value;
        },
        dispatch: function(t, e) {
            return this.each(("function" == typeof e ? function(t, e) {
                return function() {
                    return on(this, t, e.apply(this, arguments));
                };
            } : function(t, e) {
                return function() {
                    return on(this, t, e);
                };
            })(t, e));
        }
    };
    var Oa, Pa, Ua = 0, Ha = 0, Ia = 0, Fa = 1e3, La = 0, za = 0, Ya = 0, Ra = "object" == typeof performance && performance.now ? performance : Date, Ba = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(t) {
        setTimeout(t, 17);
    };
    ln.prototype = hn.prototype = {
        constructor: ln,
        restart: function(t, e, n) {
            if ("function" != typeof t) throw new TypeError("callback is not a function");
            n = (null == n ? cn() : +n) + (null == e ? 0 : +e), this._next || Pa === this || (Pa ? Pa._next = this : Oa = this, 
            Pa = this), this._call = t, this._time = n, vn();
        },
        stop: function() {
            this._call && (this._call = null, this._time = 1 / 0, vn());
        }
    };
    var $a = je("start", "end", "interrupt"), Xa = [], Va = 0, Wa = 1, qa = 2, Qa = 3, Ga = 4, Ja = 5, Za = 6, Ka = fn.prototype.constructor, to = 0, eo = fn.prototype;
    Mn.prototype = function(t) {
        return fn().transition(t);
    }.prototype = {
        constructor: Mn,
        select: function(t) {
            var e = this._name, n = this._id;
            "function" != typeof t && (t = Fe(t));
            for (var r = this._groups, i = r.length, a = new Array(i), o = 0; o < i; ++o) for (var u, f, c = r[o], s = c.length, l = a[o] = new Array(s), h = 0; h < s; ++h) (u = c[h]) && (f = t.call(u, u.__data__, h, c)) && ("__data__" in u && (f.__data__ = u.__data__), 
            l[h] = f, yn(l[h], e, n, h, l, _n(u, n)));
            return new Mn(a, this._parents, e, n);
        },
        selectAll: function(t) {
            var e = this._name, n = this._id;
            "function" != typeof t && (t = ze(t));
            for (var r = this._groups, i = r.length, a = [], o = [], u = 0; u < i; ++u) for (var f, c = r[u], s = c.length, l = 0; l < s; ++l) if (f = c[l]) {
                for (var h, d = t.call(f, f.__data__, l, c), p = _n(f, n), v = 0, g = d.length; v < g; ++v) (h = d[v]) && yn(h, e, n, v, d, p);
                a.push(d), o.push(f);
            }
            return new Mn(a, o, e, n);
        },
        filter: function(t) {
            "function" != typeof t && (t = ka(t));
            for (var e = this._groups, n = e.length, r = new Array(n), i = 0; i < n; ++i) for (var a, o = e[i], u = o.length, f = r[i] = [], c = 0; c < u; ++c) (a = o[c]) && t.call(a, a.__data__, c, o) && f.push(a);
            return new Mn(r, this._parents, this._name, this._id);
        },
        merge: function(t) {
            if (t._id !== this._id) throw new Error();
            for (var e = this._groups, n = t._groups, r = e.length, i = n.length, a = Math.min(r, i), o = new Array(r), u = 0; u < a; ++u) for (var f, c = e[u], s = n[u], l = c.length, h = o[u] = new Array(l), d = 0; d < l; ++d) (f = c[d] || s[d]) && (h[d] = f);
            for (;u < r; ++u) o[u] = e[u];
            return new Mn(o, this._parents, this._name, this._id);
        },
        selection: function() {
            return new Ka(this._groups, this._parents);
        },
        transition: function() {
            for (var t = this._name, e = this._id, n = Cn(), r = this._groups, i = r.length, a = 0; a < i; ++a) for (var o, u = r[a], f = u.length, c = 0; c < f; ++c) if (o = u[c]) {
                var s = _n(o, e);
                yn(o, t, n, c, u, {
                    time: s.time + s.delay + s.duration,
                    delay: 0,
                    duration: s.duration,
                    ease: s.ease
                });
            }
            return new Mn(r, this._parents, t, n);
        },
        call: eo.call,
        nodes: eo.nodes,
        node: eo.node,
        size: eo.size,
        empty: eo.empty,
        each: eo.each,
        on: function(t, e) {
            var n = this._id;
            return arguments.length < 2 ? _n(this.node(), n).on.on(t) : this.each(function(t, e, n) {
                var r, i, a = function(t) {
                    return (t + "").trim().split(/^|\s+/).every(function(t) {
                        var e = t.indexOf(".");
                        return e >= 0 && (t = t.slice(0, e)), !t || "start" === t;
                    });
                }(e) ? bn : mn;
                return function() {
                    var o = a(this, t), u = o.on;
                    u !== r && (i = (r = u).copy()).on(e, n), o.on = i;
                };
            }(n, t, e));
        },
        attr: function(t, e) {
            var n = Ne(t), r = "transform" === n ? Yi : xn;
            return this.attrTween(t, "function" == typeof e ? (n.local ? function(t, e, n) {
                var r, i, a;
                return function() {
                    var o, u = n(this);
                    if (null != u) return (o = this.getAttributeNS(t.space, t.local)) === u ? null : o === r && u === i ? a : a = e(r = o, i = u);
                    this.removeAttributeNS(t.space, t.local);
                };
            } : function(t, e, n) {
                var r, i, a;
                return function() {
                    var o, u = n(this);
                    if (null != u) return (o = this.getAttribute(t)) === u ? null : o === r && u === i ? a : a = e(r = o, i = u);
                    this.removeAttribute(t);
                };
            })(n, r, wn(this, "attr." + t, e)) : null == e ? (n.local ? function(t) {
                return function() {
                    this.removeAttributeNS(t.space, t.local);
                };
            } : function(t) {
                return function() {
                    this.removeAttribute(t);
                };
            })(n) : (n.local ? function(t, e, n) {
                var r, i;
                return function() {
                    var a = this.getAttributeNS(t.space, t.local);
                    return a === n ? null : a === r ? i : i = e(r = a, n);
                };
            } : function(t, e, n) {
                var r, i;
                return function() {
                    var a = this.getAttribute(t);
                    return a === n ? null : a === r ? i : i = e(r = a, n);
                };
            })(n, r, e + ""));
        },
        attrTween: function(t, e) {
            var n = "attr." + t;
            if (arguments.length < 2) return (n = this.tween(n)) && n._value;
            if (null == e) return this.tween(n, null);
            if ("function" != typeof e) throw new Error();
            var r = Ne(t);
            return this.tween(n, (r.local ? function(t, e) {
                function n() {
                    var n = this, r = e.apply(n, arguments);
                    return r && function(e) {
                        n.setAttributeNS(t.space, t.local, r(e));
                    };
                }
                return n._value = e, n;
            } : function(t, e) {
                function n() {
                    var n = this, r = e.apply(n, arguments);
                    return r && function(e) {
                        n.setAttribute(t, r(e));
                    };
                }
                return n._value = e, n;
            })(r, e));
        },
        style: function(t, e, n) {
            var r = "transform" == (t += "") ? zi : xn;
            return null == e ? this.styleTween(t, function(t, e) {
                var n, r, i;
                return function() {
                    var a = We(this, t), o = (this.style.removeProperty(t), We(this, t));
                    return a === o ? null : a === n && o === r ? i : i = e(n = a, r = o);
                };
            }(t, r)).on("end.style." + t, function(t) {
                return function() {
                    this.style.removeProperty(t);
                };
            }(t)) : this.styleTween(t, "function" == typeof e ? function(t, e, n) {
                var r, i, a;
                return function() {
                    var o = We(this, t), u = n(this);
                    return null == u && (this.style.removeProperty(t), u = We(this, t)), o === u ? null : o === r && u === i ? a : a = e(r = o, i = u);
                };
            }(t, r, wn(this, "style." + t, e)) : function(t, e, n) {
                var r, i;
                return function() {
                    var a = We(this, t);
                    return a === n ? null : a === r ? i : i = e(r = a, n);
                };
            }(t, r, e + ""), n);
        },
        styleTween: function(t, e, n) {
            var r = "style." + (t += "");
            if (arguments.length < 2) return (r = this.tween(r)) && r._value;
            if (null == e) return this.tween(r, null);
            if ("function" != typeof e) throw new Error();
            return this.tween(r, function(t, e, n) {
                function r() {
                    var r = this, i = e.apply(r, arguments);
                    return i && function(e) {
                        r.style.setProperty(t, i(e), n);
                    };
                }
                return r._value = e, r;
            }(t, e, null == n ? "" : n));
        },
        text: function(t) {
            return this.tween("text", "function" == typeof t ? function(t) {
                return function() {
                    var e = t(this);
                    this.textContent = null == e ? "" : e;
                };
            }(wn(this, "text", t)) : function(t) {
                return function() {
                    this.textContent = t;
                };
            }(null == t ? "" : t + ""));
        },
        remove: function() {
            return this.on("end.remove", function(t) {
                return function() {
                    var e = this.parentNode;
                    for (var n in this.__transition) if (+n !== t) return;
                    e && e.removeChild(this);
                };
            }(this._id));
        },
        tween: function(t, e) {
            var n = this._id;
            if (t += "", arguments.length < 2) {
                for (var r, i = _n(this.node(), n).tween, a = 0, o = i.length; a < o; ++a) if ((r = i[a]).name === t) return r.value;
                return null;
            }
            return this.each((null == e ? function(t, e) {
                var n, r;
                return function() {
                    var i = mn(this, t), a = i.tween;
                    if (a !== n) for (var o = 0, u = (r = n = a).length; o < u; ++o) if (r[o].name === e) {
                        (r = r.slice()).splice(o, 1);
                        break;
                    }
                    i.tween = r;
                };
            } : function(t, e, n) {
                var r, i;
                if ("function" != typeof n) throw new Error();
                return function() {
                    var a = mn(this, t), o = a.tween;
                    if (o !== r) {
                        i = (r = o).slice();
                        for (var u = {
                            name: e,
                            value: n
                        }, f = 0, c = i.length; f < c; ++f) if (i[f].name === e) {
                            i[f] = u;
                            break;
                        }
                        f === c && i.push(u);
                    }
                    a.tween = i;
                };
            })(n, t, e));
        },
        delay: function(t) {
            var e = this._id;
            return arguments.length ? this.each(("function" == typeof t ? function(t, e) {
                return function() {
                    bn(this, t).delay = +e.apply(this, arguments);
                };
            } : function(t, e) {
                return e = +e, function() {
                    bn(this, t).delay = e;
                };
            })(e, t)) : _n(this.node(), e).delay;
        },
        duration: function(t) {
            var e = this._id;
            return arguments.length ? this.each(("function" == typeof t ? function(t, e) {
                return function() {
                    mn(this, t).duration = +e.apply(this, arguments);
                };
            } : function(t, e) {
                return e = +e, function() {
                    mn(this, t).duration = e;
                };
            })(e, t)) : _n(this.node(), e).duration;
        },
        ease: function(t) {
            var e = this._id;
            return arguments.length ? this.each(function(t, e) {
                if ("function" != typeof e) throw new Error();
                return function() {
                    mn(this, t).ease = e;
                };
            }(e, t)) : _n(this.node(), e).ease;
        }
    };
    Math.PI, Math.PI;
    var no = {
        time: null,
        delay: 0,
        duration: 250,
        ease: function(t) {
            return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
        }
    };
    fn.prototype.interrupt = function(t) {
        return this.each(function() {
            !function(t, e) {
                var n, r, i, a = t.__transition, o = !0;
                if (a) {
                    e = null == e ? null : e + "";
                    for (i in a) (n = a[i]).name === e ? (r = n.state > qa && n.state < Ja, n.state = Za, 
                    n.timer.stop(), r && n.on.call("interrupt", t, t.__data__, n.index, n.group), delete a[i]) : o = !1;
                    o && delete t.__transition;
                }
            }(this, t);
        });
    }, fn.prototype.transition = function(t) {
        var e, n;
        t instanceof Mn ? (e = t._id, t = t._name) : (e = Cn(), (n = no).time = cn(), t = null == t ? null : t + "");
        for (var r = this._groups, i = r.length, a = 0; a < i; ++a) for (var o, u = r[a], f = u.length, c = 0; c < f; ++c) (o = u[c]) && yn(o, t, e, c, u, n || Sn(o, e));
        return new Mn(r, this._parents, t, e);
    };
    var ro = function(t) {
        return function(e, n, r) {
            for (var i = -1, a = Object(e), o = r(e), u = o.length; u--; ) {
                var f = o[t ? u : ++i];
                if (!1 === n(a[f], f, a)) break;
            }
            return e;
        };
    }(), io = "object" == typeof global && global && global.Object === Object && global, ao = "object" == typeof self && self && self.Object === Object && self, oo = io || ao || Function("return this")(), uo = oo.Symbol, fo = Object.prototype, co = fo.hasOwnProperty, so = fo.toString, lo = uo ? uo.toStringTag : void 0, ho = Object.prototype.toString, po = "[object Null]", vo = "[object Undefined]", go = uo ? uo.toStringTag : void 0, yo = "[object Arguments]", bo = Object.prototype, mo = bo.hasOwnProperty, _o = bo.propertyIsEnumerable, wo = jn(function() {
        return arguments;
    }()) ? jn : function(t) {
        return An(t) && mo.call(t, "callee") && !_o.call(t, "callee");
    }, xo = Array.isArray, Mo = "object" == typeof t && t && !t.nodeType && t, Co = Mo && "object" == typeof module && module && !module.nodeType && module, So = Co && Co.exports === Mo ? oo.Buffer : void 0, To = (So ? So.isBuffer : void 0) || function() {
        return !1;
    }, Ao = 9007199254740991, jo = /^(?:0|[1-9]\d*)$/, ko = 9007199254740991, Eo = {};
    Eo["[object Float32Array]"] = Eo["[object Float64Array]"] = Eo["[object Int8Array]"] = Eo["[object Int16Array]"] = Eo["[object Int32Array]"] = Eo["[object Uint8Array]"] = Eo["[object Uint8ClampedArray]"] = Eo["[object Uint16Array]"] = Eo["[object Uint32Array]"] = !0, 
    Eo["[object Arguments]"] = Eo["[object Array]"] = Eo["[object ArrayBuffer]"] = Eo["[object Boolean]"] = Eo["[object DataView]"] = Eo["[object Date]"] = Eo["[object Error]"] = Eo["[object Function]"] = Eo["[object Map]"] = Eo["[object Number]"] = Eo["[object Object]"] = Eo["[object RegExp]"] = Eo["[object Set]"] = Eo["[object String]"] = Eo["[object WeakMap]"] = !1;
    var No = "object" == typeof t && t && !t.nodeType && t, Do = No && "object" == typeof module && module && !module.nodeType && module, Oo = Do && Do.exports === No && io.process, Po = function() {
        try {
            return Oo && Oo.binding && Oo.binding("util");
        } catch (t) {}
    }(), Uo = Po && Po.isTypedArray, Ho = Uo ? function(t) {
        return function(e) {
            return t(e);
        };
    }(Uo) : function(t) {
        return An(t) && En(t.length) && !!Eo[Tn(t)];
    }, Io = Object.prototype.hasOwnProperty, Fo = Object.prototype, Lo = function(t, e) {
        return function(n) {
            return t(e(n));
        };
    }(Object.keys, Object), zo = Object.prototype.hasOwnProperty, Yo = "[object AsyncFunction]", Ro = "[object Function]", Bo = "[object GeneratorFunction]", $o = "[object Proxy]", Xo = Array.prototype.splice;
    Ln.prototype.clear = function() {
        this.__data__ = [], this.size = 0;
    }, Ln.prototype.delete = function(t) {
        var e = this.__data__, n = Fn(e, t);
        return !(n < 0 || (n == e.length - 1 ? e.pop() : Xo.call(e, n, 1), --this.size, 
        0));
    }, Ln.prototype.get = function(t) {
        var e = this.__data__, n = Fn(e, t);
        return n < 0 ? void 0 : e[n][1];
    }, Ln.prototype.has = function(t) {
        return Fn(this.__data__, t) > -1;
    }, Ln.prototype.set = function(t, e) {
        var n = this.__data__, r = Fn(n, t);
        return r < 0 ? (++this.size, n.push([ t, e ])) : n[r][1] = e, this;
    };
    var Vo = oo["__core-js_shared__"], Wo = function() {
        var t = /[^.]+$/.exec(Vo && Vo.keys && Vo.keys.IE_PROTO || "");
        return t ? "Symbol(src)_1." + t : "";
    }(), qo = Function.prototype.toString, Qo = /^\[object .+?Constructor\]$/, Go = Function.prototype, Jo = Object.prototype, Zo = Go.toString, Ko = Jo.hasOwnProperty, tu = RegExp("^" + Zo.call(Ko).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), eu = Rn(oo, "Map"), nu = Rn(Object, "create"), ru = "__lodash_hash_undefined__", iu = Object.prototype.hasOwnProperty, au = Object.prototype.hasOwnProperty, ou = "__lodash_hash_undefined__";
    Bn.prototype.clear = function() {
        this.__data__ = nu ? nu(null) : {}, this.size = 0;
    }, Bn.prototype.delete = function(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0, e;
    }, Bn.prototype.get = function(t) {
        var e = this.__data__;
        if (nu) {
            var n = e[t];
            return n === ru ? void 0 : n;
        }
        return iu.call(e, t) ? e[t] : void 0;
    }, Bn.prototype.has = function(t) {
        var e = this.__data__;
        return nu ? void 0 !== e[t] : au.call(e, t);
    }, Bn.prototype.set = function(t, e) {
        var n = this.__data__;
        return this.size += this.has(t) ? 0 : 1, n[t] = nu && void 0 === e ? ou : e, this;
    }, Xn.prototype.clear = function() {
        this.size = 0, this.__data__ = {
            hash: new Bn(),
            map: new (eu || Ln)(),
            string: new Bn()
        };
    }, Xn.prototype.delete = function(t) {
        var e = $n(this, t).delete(t);
        return this.size -= e ? 1 : 0, e;
    }, Xn.prototype.get = function(t) {
        return $n(this, t).get(t);
    }, Xn.prototype.has = function(t) {
        return $n(this, t).has(t);
    }, Xn.prototype.set = function(t, e) {
        var n = $n(this, t), r = n.size;
        return n.set(t, e), this.size += n.size == r ? 0 : 1, this;
    };
    var uu = 200;
    Vn.prototype.clear = function() {
        this.__data__ = new Ln(), this.size = 0;
    }, Vn.prototype.delete = function(t) {
        var e = this.__data__, n = e.delete(t);
        return this.size = e.size, n;
    }, Vn.prototype.get = function(t) {
        return this.__data__.get(t);
    }, Vn.prototype.has = function(t) {
        return this.__data__.has(t);
    }, Vn.prototype.set = function(t, e) {
        var n = this.__data__;
        if (n instanceof Ln) {
            var r = n.__data__;
            if (!eu || r.length < uu - 1) return r.push([ t, e ]), this.size = ++n.size, this;
            n = this.__data__ = new Xn(r);
        }
        return n.set(t, e), this.size = n.size, this;
    };
    var fu = "__lodash_hash_undefined__";
    Wn.prototype.add = Wn.prototype.push = function(t) {
        return this.__data__.set(t, fu), this;
    }, Wn.prototype.has = function(t) {
        return this.__data__.has(t);
    };
    var cu = 1, su = 2, lu = oo.Uint8Array, hu = 1, du = 2, pu = "[object Boolean]", vu = "[object Date]", gu = "[object Error]", yu = "[object Map]", bu = "[object Number]", mu = "[object RegExp]", _u = "[object Set]", wu = "[object String]", xu = "[object Symbol]", Mu = "[object ArrayBuffer]", Cu = "[object DataView]", Su = uo ? uo.prototype : void 0, Tu = Su ? Su.valueOf : void 0, Au = Object.prototype.propertyIsEnumerable, ju = Object.getOwnPropertySymbols, ku = ju ? function(t) {
        return null == t ? [] : (t = Object(t), function(t, e) {
            for (var n = -1, r = null == t ? 0 : t.length, i = 0, a = []; ++n < r; ) {
                var o = t[n];
                e(o, n, t) && (a[i++] = o);
            }
            return a;
        }(ju(t), function(e) {
            return Au.call(t, e);
        }));
    } : function() {
        return [];
    }, Eu = 1, Nu = Object.prototype.hasOwnProperty, Du = Rn(oo, "DataView"), Ou = Rn(oo, "Promise"), Pu = Rn(oo, "Set"), Uu = Rn(oo, "WeakMap"), Hu = "[object Promise]", Iu = "[object WeakMap]", Fu = "[object DataView]", Lu = zn(Du), zu = zn(eu), Yu = zn(Ou), Ru = zn(Pu), Bu = zn(Uu), $u = Tn;
    (Du && $u(new Du(new ArrayBuffer(1))) != Fu || eu && "[object Map]" != $u(new eu()) || Ou && $u(Ou.resolve()) != Hu || Pu && "[object Set]" != $u(new Pu()) || Uu && $u(new Uu()) != Iu) && ($u = function(t) {
        var e = Tn(t), n = "[object Object]" == e ? t.constructor : void 0, r = n ? zn(n) : "";
        if (r) switch (r) {
          case Lu:
            return Fu;

          case zu:
            return "[object Map]";

          case Yu:
            return Hu;

          case Ru:
            return "[object Set]";

          case Bu:
            return Iu;
        }
        return e;
    });
    var Xu = $u, Vu = 1, Wu = "[object Arguments]", qu = "[object Array]", Qu = "[object Object]", Gu = Object.prototype.hasOwnProperty, Ju = 1, Zu = 2, Ku = "[object Symbol]", tf = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, ef = /^\w*$/, nf = "Expected a function";
    ur.Cache = Xn;
    var rf = 500, af = /^\./, of = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, uf = /\\(\\)?/g, ff = function(t) {
        var e = ur(t, function(t) {
            return n.size === rf && n.clear(), t;
        }), n = e.cache;
        return e;
    }(function(t) {
        var e = [];
        return af.test(t) && e.push(""), t.replace(of, function(t, n, r, i) {
            e.push(r ? i.replace(uf, "$1") : n || t);
        }), e;
    }), cf = 1 / 0, sf = uo ? uo.prototype : void 0, lf = sf ? sf.toString : void 0, hf = 1 / 0, df = 1, pf = 2, vf = Pu && 1 / Zn(new Pu([ , -0 ]))[1] == 1 / 0 ? function(t) {
        return new Pu(t);
    } : function() {}, gf = 200, yf = 9007199254740991, bf = Math.floor, mf = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"), _f = yr("length"), wf = "[\\ud800-\\udfff]", xf = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Mf = "\\ud83c[\\udffb-\\udfff]", Cf = "[^\\ud800-\\udfff]", Sf = "(?:\\ud83c[\\udde6-\\uddff]){2}", Tf = "[\\ud800-\\udbff][\\udc00-\\udfff]", Af = "(?:" + xf + "|" + Mf + ")" + "?", jf = "[\\ufe0e\\ufe0f]?", kf = jf + Af + ("(?:\\u200d(?:" + [ Cf, Sf, Tf ].join("|") + ")" + jf + Af + ")*"), Ef = "(?:" + [ Cf + xf + "?", xf, Sf, Tf, wf ].join("|") + ")", Nf = RegExp(Mf + "(?=" + Mf + ")|" + Ef + kf, "g"), Df = "[\\ud800-\\udfff]", Of = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Pf = "\\ud83c[\\udffb-\\udfff]", Uf = "[^\\ud800-\\udfff]", Hf = "(?:\\ud83c[\\udde6-\\uddff]){2}", If = "[\\ud800-\\udbff][\\udc00-\\udfff]", Ff = "(?:" + Of + "|" + Pf + ")" + "?", Lf = "[\\ufe0e\\ufe0f]?", zf = Lf + Ff + ("(?:\\u200d(?:" + [ Uf, Hf, If ].join("|") + ")" + Lf + Ff + ")*"), Yf = "(?:" + [ Uf + Of + "?", Of, Hf, If, Df ].join("|") + ")", Rf = RegExp(Pf + "(?=" + Pf + ")|" + Yf + zf, "g"), Bf = Math.ceil, $f = NaN, Xf = /^\s+|\s+$/g, Vf = /^[-+]0x[0-9a-f]+$/i, Wf = /^0b[01]+$/i, qf = /^0o[0-7]+$/i, Qf = parseInt, Gf = 1 / 0, Jf = 1.7976931348623157e308, Zf = {}, Kf = {}, tc = 34, ec = 10, nc = 13, rc = Hr(",").parse, ic = (Hr("\t"), 
    {
        A: "Addenbrooke's",
        AR: "Anglia Ruskin",
        Ca: "Caius",
        CC: "Corpus Christi",
        CH: "Clare Hall",
        Cl: "Clare",
        Cr: "Christ's",
        CT: "CCAT",
        Cu: "Churchill",
        D: "Downing",
        Dw: "Darwin",
        E: "Emmanuel",
        F: "Fitzwilliam",
        G: "Girton",
        H: "Homerton",
        HH: "Hughes Hall",
        HHL: "Hughes/Lucy",
        J: "Jesus",
        K: "King's",
        L: "LMBC",
        LC: "Lucy Cavendish",
        M: "Magdalene",
        ME: "Murray Edwards",
        N: "Newnham",
        NH: "New Hall",
        Pb: "Pembroke",
        Ph: "Peterhouse",
        Q: "Queens'",
        QM: "QMABC",
        R: "Robinson",
        S: "Selwyn",
        SC: "St Catharine's",
        SE: "St Edmund's",
        SS: "Sidney Sussex",
        T: "1st and 3rd",
        TC: "Theological Colleges",
        TH: "Trinity Hall",
        VS: "Vet School",
        W: "Wolfson"
    }), ac = {
        B: "Balliol",
        Br: "Brasenose",
        Ch: "Christ Church",
        Co: "Corpus Christi",
        E: "Exeter",
        H: "Hertford",
        J: "Jesus",
        K: "Keble",
        L: "Linacre",
        Lc: "Lincoln",
        LM: "L.M.H.",
        Mg: "Magdalen",
        Mf: "Mansfield",
        Mt: "Merton",
        N: "New College",
        O: "Oriel",
        OG: "Osler-Green",
        P: "Pembroke",
        Q: "Queen's",
        R: "Regent's Park",
        SE: "S.E.H.",
        S: "Somerville",
        SAn: "St Anne's",
        SAt: "St Antony's",
        SB: "St Benet's Hall",
        SC: "St Catherine's",
        SHi: "St Hilda's",
        SHu: "St Hugh's",
        SJ: "St John's",
        SP: "St Peter's",
        T: "Trinity",
        U: "University",
        Wh: "Wadham",
        Wf: "Wolfson",
        Wt: "Worcester"
    }, oc = {
        A: "Addenbrooke's",
        CB: "Camb Blue",
        CV: "Camb Veterans",
        Ct: "Cantabs",
        Cy: "City",
        Ca: "Caius",
        CT: "CCAT",
        Cr: "Christ's",
        Cu: "Churchill",
        CH: "Clare Hall",
        Cl: "Clare",
        CC: "Corpus Christi",
        COT: "Champs",
        Dn: "Domino",
        Dw: "Darwin",
        D: "Downing",
        E: "Emmanuel",
        F: "Fitzwilliam",
        FP: "Free Press",
        G: "Girton",
        H: "Homerton",
        HH: "Hughes Hall",
        Hn: "Hornets",
        I: "Ionica",
        IOE: "Isle of Ely",
        J: "Jesus",
        K: "King's",
        L: "LMBC",
        LC: "Lucy Cavendish",
        LS: "Lady Somerset",
        M: "Magdalene",
        ME: "Maximum Entropy",
        MM: "Mott MacDonald",
        NH: "New Hall",
        N: "Newnham",
        NN: "99",
        Pb: "Pembroke",
        Ph: "Peterhouse",
        QM: "QMABC",
        Q: "Queens'",
        RR: "Rob Roy",
        R: "Robinson",
        Sm: "Simoco",
        SI: "St Ives",
        SN: "St Neots",
        SR: "St Radegund",
        S: "Selwyn",
        SS: "Sidney Sussex",
        SC: "St Catharine's",
        SE: "St Edmund's",
        T: "1st & 3rd",
        TC: "Theological Colleges",
        Te: "Telephones",
        TH: "Trinity Hall",
        US: "Univ Sports",
        VS: "Vet School",
        W: "Wolfson",
        X: "X-Press"
    }, uc = [ "I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", "XIII", "XIV", "XV", "XVI", "XVII", "XVIII", "XIX", "XX" ], fc = 110;
    t.bumpsChart = function() {
        function t(n) {
            n.each(function(r) {
                c = r, T || (function(n) {
                    f = n.select("svg"), v = f.append("g").attr("class", "results-container"), g = v.append("g").attr("class", "results"), 
                    v.append("rect").attr("class", "touch-target"), (s = new Hammer(f.node())).on("panmove", function(t) {
                        g.attr("transform", "translate(" + (t.deltaX - w(x)) + ",0)");
                    }), s.on("panend", function(n) {
                        var r = i([ M, a([ C - S + 1, Math.round(w.invert(-n.deltaX - w(-x)) / 5) + M ]) ]);
                        !function(n, r) {
                            l = {
                                start: n,
                                end: r
                            }, e(), A.call("selectYear", t, n, r);
                        }(r, r + S - 1);
                    }), y = g.append("g").attr("class", "divisions"), b = g.append("g").attr("class", "years"), 
                    _ = g.append("g").attr("class", "lines"), m = f.append("g").attr("class", "labels"), 
                    function(t) {
                        var e = "clip" + (1e5 * Math.random() | 0);
                        t.append("clipPath").attr("id", e).append("rect").attr("width", 80).attr("height", 800);
                        var n = "url(#" + e + ")";
                        t.select(".results-container").attr("clip-path", n);
                    }(f), function(t) {
                        var e = t.append("defs").append("filter").attr("filterUnits", "userSpaceOnUse").attr("width", 1e4).attr("id", "dropShadow");
                        e.append("feGaussianBlur").attr("stdDeviation", 0).attr("in", "SourceAlpha"), e.append("feOffset").attr("dx", 0).attr("dy", 2);
                        var n = e.append("feMerge");
                        n.append("feMergeNode"), n.append("feMergeNode").attr("in", "SourceGraphic");
                    }(f);
                }(n), T = !0), e();
            });
        }
        function e() {
            var t = c;
            if (void 0 !== t && 0 !== t.crews.length && null !== l) {
                var e = t.crews;
                S = l.end - l.start + 1, e.forEach(function(t) {
                    return t.highlighted = d.has(t.name);
                }), e.forEach(function(t) {
                    return t.hover = h === t.name;
                });
                var a = fc, s = e.length > 0 ? i(e, function(t) {
                    return i(t.values.filter(function(t) {
                        return null !== t;
                    }), function(t) {
                        return t.pos;
                    });
                }) : 0;
                w = tt().domain([ 0, 4 ]).range([ 0, a ]);
                var T = tt().domain([ -1, s ]).range([ 10, 34 * s - 10 ]), A = 310 + 5 * fc / 4 * S, j = 34 * s, k = p;
                f.attr("height", j / A * k).attr("viewBox", "-165, 0, " + A + ", " + j);
                var E = function() {
                    function t(t) {
                        var u, f, c, s = t.length, l = !1;
                        for (null == i && (o = a(c = ge())), u = 0; u <= s; ++u) !(u < s && r(f = t[u], u, t)) === l && ((l = !l) ? o.lineStart() : o.lineEnd()), 
                        l && o.point(+e(f, u, t), +n(f, u, t));
                        if (c) return o = null, c + "" || null;
                    }
                    var e = _e, n = we, r = ye(!0), i = null, a = me, o = null;
                    return t.x = function(n) {
                        return arguments.length ? (e = "function" == typeof n ? n : ye(+n), t) : e;
                    }, t.y = function(e) {
                        return arguments.length ? (n = "function" == typeof e ? e : ye(+e), t) : n;
                    }, t.defined = function(e) {
                        return arguments.length ? (r = "function" == typeof e ? e : ye(!!e), t) : r;
                    }, t.curve = function(e) {
                        return arguments.length ? (a = e, null != i && (o = a(i)), t) : a;
                    }, t.context = function(e) {
                        return arguments.length ? (null == e ? i = o = null : o = a(i = e), t) : i;
                    }, t;
                }().defined(function(t) {
                    return null !== t && t.pos > -1;
                }).x(function(t) {
                    return w(t.day);
                }).y(function(t) {
                    return T(t.pos);
                });
                M = t.startYear, C = t.endYear;
                var N = l.start - M;
                x = 5 * N;
                var D = 5 * N, O = D + 5 * S - 1, P = i(t.crews.map(function(t) {
                    return t.values.filter(function(t) {
                        return t.pos > -1 || t.day < O - 5;
                    }).length;
                }));
                O > P - 1 && (O = P - 1), v.select(".touch-target").attr("x", 0).attr("y", 0).attr("width", k).attr("height", j + 2).attr("fill", "transparent"), 
                g.transition().duration(400).attr("transform", "translate(" + w(-x) + ",0)"), function(t, e, n, r) {
                    t.select("clipPath").select("rect").datum(e).attr("width", function(t) {
                        return r(5 * t - 1) - r(0);
                    }).attr("height", n + 2);
                }(f, S, j, w), !function(t, e, n, r, i) {
                    var a = t.selectAll("rect.division").data(function(t) {
                        return t.divisions;
                    }, function(t) {
                        return t.start;
                    });
                    a.enter().append("rect").attr("class", "division").attr("id", function(t) {
                        return t.start;
                    }).style("stroke", "black").style("fill", function(t, e) {
                        return e % 2 ? "#F4F4F4" : "#FFFFFF";
                    }).attr("x", function(t) {
                        return 5 * n(t.year - e);
                    }).attr("y", function(t) {
                        return r(t.start - .5);
                    }).attr("width", n(4) - n(0)).attr("height", function(t) {
                        return r(t.start + t.length) - r(t.start);
                    }).style("opacity", 1e-6).transition().duration(i).style("opacity", 1), a.transition().duration(i).attr("x", function(t) {
                        return 5 * n(t.year - e);
                    }).attr("y", function(t) {
                        return r(t.start - .5);
                    }).attr("width", n(4) - n(0)).attr("height", function(t) {
                        return r(t.start + t.length) - r(t.start);
                    }), a.exit().transition().duration(i).style("opacity", 1e-6).remove();
                }(function(t, e, n, r, i) {
                    var a = e.selectAll(".division-year").data(t.divisions, function(t, e) {
                        return u(t.set, t.gender, e);
                    }), o = a.enter().append("g").attr("class", "division-year").attr("id", function(t) {
                        return t.year;
                    });
                    return a.transition().duration(i), a.exit().remove(), o;
                }(t, y, 0, 0, 400), M, w, T, 400), function(t, e, r, i, a, o, u) {
                    var f = t.selectAll(".year").data(n(e, r + 1), function(t) {
                        return t;
                    });
                    f.enter().append("text").attr("class", "year").attr("x", function(t) {
                        return i(5 * (t - e) + 2);
                    }).attr("y", a(0)).style("font-size", "22px").attr("text-anchor", "middle").text(function(t) {
                        return t;
                    }), f.transition().duration(u).attr("x", function(t) {
                        return i(5 * (t - e) + 2);
                    }), f.exit().transition().duration(u).style("opacity", 1e-6).remove();
                }(b, M, C, w, T, 0, 400);
                var U = function(t, e, n, r, i, a, o) {
                    var f = e.selectAll(".line").data(t, function(t) {
                        return u(t.set, t.gender, t.name);
                    }), c = f.enter().append("g").attr("class", function(t) {
                        return "line " + t.name.replace(/ /g, "-");
                    }).classed("highlighted", function(t) {
                        return t.highlighted;
                    }).style("filter", function(t) {
                        return t.highlighted || t.hover ? "url(#dropShadow)" : "";
                    }).style("fill", "none").style("stroke", function(t) {
                        return t.highlighted || t.hover ? zr(t.name) : "#000000";
                    }).style("stroke-width", function(t) {
                        return t.highlighted || t.hover ? "3px" : "2px";
                    }).style("stroke-opacity", function(t) {
                        return n.size > 0 ? t.highlighted || t.hover ? "1" : "0.5" : "1";
                    });
                    return f.classed("highlighted", function(t) {
                        return t.highlighted;
                    }).style("filter", function(t) {
                        return t.highlighted || t.hover ? "url(#dropShadow)" : "";
                    }).style("stroke", function(t) {
                        return t.highlighted || t.hover ? zr(t.name) : "#000000";
                    }).style("stroke-width", function(t) {
                        return t.highlighted || t.hover ? "3px" : "2px";
                    }).style("stroke-opacity", function(t) {
                        return n.size > 0 ? t.highlighted || t.hover ? "1" : "0.5" : "1";
                    }), f.exit().transition().duration(o).style("opacity", 1e-6).remove(), c;
                }(e, _, d, 0, 0, 0, 400);
                !function(t, e, n) {
                    var r = t.selectAll("path.active").data(function(t) {
                        return t.valuesSplit;
                    }, function(t) {
                        return u(t.set, t.gender, t.name + t.day);
                    });
                    r.enter().append("path").attr("d", function(t) {
                        return e(t.values);
                    }).attr("class", "active").classed("blades", function(t) {
                        return t.blades;
                    }).classed("spoons", function(t) {
                        return t.spoons;
                    }).style("stroke-dasharray", function(t) {
                        return t.blades ? "10,5" : t.spoons ? "5,5" : null;
                    }).style("cursor", "pointer"), r.transition().duration(n).attr("d", function(t) {
                        return e(t.values);
                    }), r.exit().transition().duration(n).style("opacity", 1e-6).remove();
                }(U, E, 400), function(t, e, n, r) {
                    var i = e.selectAll("path.background").data(function(t) {
                        return [ t ];
                    }, function(t) {
                        return u(t.set, t.gender, t.name);
                    });
                    i.enter().append("path").attr("d", function(t) {
                        return n(t.values);
                    }).attr("class", "background").style("stroke-opacity", "0.1"), i.transition().duration(r).attr("d", function(t) {
                        return n(t.values);
                    }), i.exit().transition().duration(r).style("opacity", 1e-6).remove();
                }(0, U, E, 400), function(t, e, n, r, i, a, o, f, c, s) {
                    var l = function(t) {
                        return t.values[-1 === t.values[n].pos && n % 5 != 0 ? n - 1 : n].pos;
                    }, h = e.selectAll(".finish-label").data(t.filter(function(t) {
                        return l(t) > -1;
                    }), function(t) {
                        return u(t.set, t.gender, t.name);
                    });
                    h.enter().append("text").on("click", function(t) {
                        c(t.name);
                    }).on("mouseover", function(t) {
                        "ontouchstart" in window || navigator.maxTouchPoints || s(t.name);
                    }).on("mouseout", function() {
                        s(null);
                    }).classed("label finish-label", !0).classed("highlighted", function(t) {
                        return t.highlighted;
                    }).style("font-weight", function(t) {
                        return t.highlighted ? "bold" : "normal";
                    }).datum(function(t) {
                        return {
                            name: t.name,
                            set: t.set,
                            gender: t.gender,
                            pos: l(t)
                        };
                    }).attr("x", 10).attr("dy", ".35em").text(function(t) {
                        return Fr(t.name, t.set);
                    }).attr("transform", function(t) {
                        return "translate(" + a(r + 5 * (i - 1)) + "," + o(t.pos) + ")";
                    }).style("font-size", "16px").style("cursor", "pointer"), h.classed("highlighted", function(t) {
                        return t.highlighted || t.hover;
                    }).style("font-weight", function(t) {
                        return t.highlighted || t.hover ? "bold" : "normal";
                    }).transition().duration(f).attr("transform", function(t) {
                        return "translate(" + a(r + 5 * (i - 1)) + "," + o(l(t)) + ")";
                    }), h.exit().remove();
                }(e, m, O, 4, S, w, T, 400, r, o), function(t, e, n, r, i, a, o, f, c) {
                    var s = function(t) {
                        var e = t.values.find(function(t) {
                            return t.day === n;
                        });
                        return void 0 === e && (e = t.values.find(function(t) {
                            return t.day === n - 1;
                        })), e.pos;
                    }, l = e.selectAll(".start-label").data(t.filter(function(t) {
                        return s(t) > -1;
                    }), function(t) {
                        return u(t.set, t.gender, t.name);
                    });
                    l.enter().append("text").on("click", function(t) {
                        f(t.name);
                    }).on("mouseover", function(t) {
                        c(t.name);
                    }).on("mouseout", function() {
                        c(null);
                    }).classed("label start-label", !0).classed("highlighted", function(t) {
                        return t.highlighted;
                    }).style("font-weight", function(t) {
                        return t.highlighted ? "bold" : "normal";
                    }).datum(function(t) {
                        return {
                            name: t.name,
                            set: t.set,
                            gender: t.gender,
                            pos: s(t)
                        };
                    }).attr("x", -10).attr("dy", ".35em").attr("text-anchor", "end").text(function(t) {
                        return Fr(t.name, t.set);
                    }).attr("transform", function(t) {
                        return "translate(" + i(r) + "," + a(t.pos) + ")";
                    }).style("font-size", "16px").style("cursor", "pointer"), l.classed("highlighted", function(t) {
                        return t.highlighted || t.hover;
                    }).style("font-weight", function(t) {
                        return t.highlighted || t.hover ? "bold" : "normal";
                    }).transition().duration(o).attr("transform", function(t) {
                        return "translate(" + i(r) + "," + a(s(t)) + ")";
                    }), l.exit().remove();
                }(e, m, D, 0, w, T, 400, r, o), function(t, e, r, i, a, o, u, f) {
                    var c = e.selectAll(".position-label-right").data(n(0, t.filter(function(t) {
                        return function(t) {
                            return t.values[-1 === t.values[r].pos ? r - 1 : r].pos;
                        }(t) > -1;
                    }).length), function(t) {
                        return t;
                    });
                    c.enter().append("text").attr("class", "position-label-right").text(function(t, e) {
                        return e + 1;
                    }).style("fill", "#888888").attr("dy", ".35em").attr("text-anchor", "end").attr("transform", function(t, e) {
                        return "translate(" + o(a + 5 * i) + "," + u(e + 1) + ")";
                    }).transition().duration(f).style("font-size", "16px").style("opacity", 1), c.transition().duration(f).attr("transform", function(t, e) {
                        return "translate(" + o(a + 5 * i) + "," + u(e + 1) + ")";
                    }), c.exit().transition().duration(f).style("opacity", 0).remove();
                }(e, m, O, S, 5, w, T, 400), function(t, e, n, r, i, a, o) {
                    var u = [], f = t.find(function(t) {
                        return t.year === n;
                    });
                    void 0 === f && (f = t.find(function(t) {
                        return t.year === n - 1;
                    })), f.divisions.forEach(function(t) {
                        for (var e = 0; e < t.length; e++) u.push(e + 1);
                    });
                    var c = e.selectAll(".position-label-left").data(u, function(t, e) {
                        return e;
                    });
                    c.enter().append("text").attr("class", "position-label-left").text(function(t) {
                        return t;
                    }).style("fill", "#888888").attr("dy", ".35em").attr("text-anchor", "start").attr("transform", function(t, e) {
                        return "translate(" + i(r) + "," + a(e + 1) + ")";
                    }).transition().duration(o).style("font-size", "16px").style("opacity", 1), c.transition().duration(o).text(function(t) {
                        return t;
                    }).attr("transform", function(t, e) {
                        return "translate(" + i(r) + "," + a(e + 1) + ")";
                    }), c.exit().transition().duration(o).style("opacity", 0).remove();
                }(t.divisions, m, l.start, -5.6, w, T, 400);
            }
        }
        function r(n) {
            d.has(n) ? d.delete(n) : d.add(n), e(), A.call("toggleSelectedCrew", t, n);
        }
        function o(n) {
            h = n, e(), A.call("toggleSelectedCrew", t, n);
        }
        function u(t, e) {
            var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
            return t.replace(/ /g, "") + e + n;
        }
        var f = void 0, c = void 0, s = void 0, l = void 0, h = void 0, d = new Set(), p = void 0, v = void 0, g = void 0, y = void 0, b = void 0, m = void 0, _ = void 0, w = void 0, x = void 0, M = void 0, C = void 0, S = void 0, T = !1, A = je("selectYear", "highlightCrew", "toggleSelectedCrew");
        return t.year = function(e) {
            return arguments.length ? (l = e, t) : l;
        }, t.highlightedCrew = function(e) {
            return arguments.length ? (h = e, t) : h;
        }, t.selectedCrews = function(e) {
            return arguments.length ? (d = e, t) : d;
        }, t.windowWidth = function(e) {
            return arguments.length ? (p = e, t) : p;
        }, t.on = function() {
            var e = A.on.apply(A, arguments);
            return e === A ? t : e;
        }, t;
    }, t.abbrevCamCollege = ic, t.abbrevOxCollege = ac, t.abbrevCamTown = oc, t.abbreviate = function(t) {
        for (var e = 0; e < t.divisions.length; e++) for (var n = 0; n < t.divisions[e].length; n++) t.divisions[e][n] = Ir(t.divisions[e][n], t.set);
        for (var r = 0; r < t.finish.length; r++) for (var i = 0; i < t.finish[r].length; i++) t.finish[r][i] = Ir(t.finish[r][i], t.set);
        return t;
    }, t.abbreviateCrew = Ir, t.expandCrew = function(t, e) {
        var n = t.replace(/[0-9]+$/, "").trim(), r = +t.substring(n.length), i = void 0;
        switch (e) {
          case "Lent Bumps":
          case "May Bumps":
            i = ic;
            break;

          case "Torpids":
          case "Summer Eights":
            i = ac;
            break;

          case "Town Bumps":
            i = oc;
            break;

          default:
            throw "Unrecognised set: " + e;
        }
        return i.hasOwnProperty(n) ? i[n] + (r > 1 ? r : "") : t;
    }, t.renderName = Fr, t.crewColor = zr, t.isBlades = Yr, t.isSpoons = Rr, t.joinEvents = function(t, e, n) {
        var r = [], o = [], u = [], f = [];
        t.forEach(function(t) {
            f = f.concat(t.crews.map(function(t) {
                return t.name;
            })), r.push(t.year), u.push({
                set: e,
                gender: n,
                year: t.year,
                divisions: t.divisions.map(function(e) {
                    return {
                        year: t.year,
                        start: e.start,
                        length: e.length
                    };
                })
            });
        });
        var c = a(r), s = i(r), l = function(t) {
            return t && t.length ? Cr(t) : [];
        }(f), h = i(t.map(function(t) {
            return t.crews.length;
        }));
        return l.forEach(function(r) {
            var i = {
                name: r,
                set: e,
                gender: n,
                values: [],
                valuesSplit: []
            };
            t.forEach(function(t) {
                var a = t.crews.filter(function(t) {
                    return t.name === r;
                }), o = 5 * (t.year - c);
                if (a.length > 0) {
                    for (var u = a[0].values.map(function(t) {
                        return {
                            day: t.day + o,
                            pos: t.pos
                        };
                    }), f = u.length; f <= 4; f++) u.push({
                        day: f + o,
                        pos: -1
                    });
                    i.values = i.values.concat(u);
                    var s = a[0].values.map(function(t) {
                        return t.pos;
                    }), l = Yr(s), h = Rr(s, t.crews.length), d = {
                        set: e,
                        gender: n,
                        name: r,
                        day: o,
                        blades: l,
                        spoons: h,
                        values: u
                    };
                    i.valuesSplit.push(d);
                } else {
                    for (var p = [], v = 0; v <= 4; v++) p.push({
                        day: v + o,
                        pos: -1
                    });
                    i.values = i.values.concat(p);
                }
            }), o.push(i);
        }), {
            crews: o,
            startYear: c,
            endYear: s,
            maxCrews: h,
            divisions: u
        };
    }, t.transformData = function(t) {
        if (t.days !== t.completed.length) throw new RangeError("Expected " + t.days + " but found " + t.completed.length + " completed days");
        for (var e = 1, n = [], r = [], i = 0; i < t.divisions.length; i++) {
            r.push({
                start: e,
                length: t.divisions[i].length
            });
            for (var a = 0; a < t.divisions[i].length; a++) {
                var o = [], u = 0, f = e;
                o.push({
                    day: u,
                    pos: f
                });
                for (var c = a, s = i, l = 0; l < t.days && !1 !== t.completed[l][s]; l++) {
                    var h = t.move[l][s][c];
                    for (u += 1, f -= h, o.push({
                        day: u,
                        pos: f
                    }), c -= h; c < 0; ) s--, c += t.divisions[s].length;
                    for (;c >= t.divisions[s].length; ) c -= t.divisions[s].length, s++;
                }
                n.push({
                    name: t.finish[s][c],
                    values: o
                }), e += 1;
            }
        }
        return {
            year: t.year,
            crews: n,
            divisions: r
        };
    }, t.calculateNumYearsToview = function(t) {
        return Math.max(0, Math.ceil((t - 310) / fc));
    }, t.calculateYearRange = function(t, e, n) {
        var r = void 0, i = void 0;
        return null !== t && void 0 !== t || (t = e), t.end > e.end ? r = (i = e.end) - n < e.start ? e.start : i - n : t.end < e.start ? e.start + n > e.end ? (i = e.end, 
        r = e.start) : (i = e.start + n, r = e.start) : (i = t.end) - n < e.start ? (r = e.start) + n > t.end && (i = Math.min(r + n, e.end)) : r = i - n, 
        {
            start: r,
            end: i
        };
    }, t.read_flat = function(t) {
        for (var e = Sr((t = rc(t)).map(function(t) {
            return t.Year;
        })), n = Sr(t.map(function(t) {
            return t.Sex;
        })), r = [], i = 0; i < e.length; i++) for (var a = function(a) {
            var o = {
                set: "Set",
                small: "Short",
                gender: "Gender",
                result: "",
                year: 1970,
                days: 4,
                divisions: [],
                results: [],
                move: [],
                finish: [],
                completed: []
            };
            o.set = "Town Bumps", o.gender = n[a], o.year = +e[i];
            var u = t.filter(function(t) {
                return +t.Year === o.year && t.Sex === o.gender && "1" === t.Day;
            });
            u.sort(function(t, e) {
                return +t["Start position"] - +e["Start position"];
            });
            var f = t.filter(function(t) {
                return +t.Year === o.year && t.Sex === o.gender;
            });
            f.sort(function(t, e) {
                var n = +t["Start position"] - +e["Start position"];
                return 0 === n ? +t.Day - +e.Day : n;
            }), o.days = Sr(f.map(function(t) {
                return t.Day;
            })).length;
            for (var c = Sr(u.map(function(t) {
                return t.Division;
            })).length, s = new Array(c), l = function(t) {
                s[t] = u.filter(function(e) {
                    return +e.Division === t + 1;
                }).length;
            }, h = 0; h < c; h++) l(h);
            o.divisions = new Array(c), o.finish = new Array(c), o.move = new Array(o.days), 
            o.completed = new Array(o.days);
            for (var d = 0; d < o.days; d++) {
                o.move[d] = new Array(c), o.completed[d] = new Array(c);
                for (var p = 0; p < c; p++) o.divisions[p] = new Array(s[p]), o.finish[p] = new Array(s[p]), 
                o.move[d][p] = new Array(s[p]), o.completed[d][p] = !1;
            }
            o = Vr(o = Qr(o, u, f, s)), r.push(o);
        }, o = 0; o < n.length; o++) a(o);
        return r;
    }, t.read_tg = function(t) {
        t = t.split("\n");
        for (var e = {
            set: "Set",
            small: "Short",
            gender: "Gender",
            result: "",
            year: 1970,
            days: 4,
            divisions: [],
            results: [],
            move: [],
            finish: [],
            completed: []
        }, n = [], r = 0, i = 0, a = 0; a < t.length; a++) {
            var o = t[a].split(",");
            if ("Set" === o[0]) o.length > 1 && (e.set = o[1]); else if ("Short" === o[0]) e.small = o[1]; else if ("Gender" === o[0]) e.gender = o[1]; else if ("Year" === o[0]) {
                var u = parseInt(o[1], 10);
                isNaN(u) || (e.year = u);
            } else if ("Days" === o[0]) e.days = parseInt(o[1], 10); else if ("Division" === o[0]) {
                i = 1, n.length > 0 && (e.divisions.push(n), n = []);
                for (var f = 1; f < o.length; f++) Wr(n, o[f]);
            } else if ("Results" === o[0]) {
                r = 1, n.length > 0 && (e.divisions.push(n), n = []);
                for (var c = 1; c < o.length; c++) 0 !== o[c].indexOf("#") && Array.prototype.push.apply(e.results, o[c].split(" "));
            } else for (var s = 0; s < o.length; s++) 1 === r && 0 !== o[s].indexOf("#") ? Array.prototype.push.apply(e.results, o[s].split(" ")) : 1 === i && Wr(n, o[s]);
        }
        for (var l = [], h = 0; h < e.days; h++) l.push([]);
        e.results.filter(function(t) {
            return "" !== t;
        }).map(function(t, n) {
            return l[Math.floor(n / e.divisions.length)].push(t.trim());
        }), e.results = l.filter(function(t) {
            return t.length > 0;
        }).map(function(t) {
            return t.join(" ");
        }).join("\n"), n.length > 0 && e.divisions.push(n);
        for (var d = 0; d < e.days; d++) {
            for (var p = new Array(e.divisions.length), v = [], g = 0; g < e.divisions.length; g++) {
                for (var y = new Array(e.divisions[g].length), b = 0; b < e.divisions[g].length; b++) y[b] = 0;
                p[g] = y, v.push(!1);
            }
            e.move.push(p), e.completed.push(v);
        }
        return function(t) {
            var e = [];
            t.results.length > 0 && (e = t.results.match(/r|t|u|o[0-9]*|e-?[0-9]*/g));
            for (var n = 0, r = 0, i = 0, a = null, o = 0; o < e.length; o++) {
                for (;null != a && i <= a[r - 1].length && i > 0 && 0 !== a[r - 1][i - 1]; ) i -= 1;
                if (0 === i) {
                    if ("t" === e[o]) continue;
                    if (r <= 1) {
                        if (n === t.days) return void console.error("Run out of days of racing with more results still to go");
                        a = t.move[n], n += 1, r = t.divisions.length + 1;
                    }
                    i = a[--r - 1].length, r < t.divisions.length && i++;
                }
                if (t.completed[n - 1][r - 1] = !0, "r" === e[o]) i--; else if ("u" === e[o]) {
                    if (!qr(a, r, i, 1)) return;
                    i -= 2;
                } else if (0 === e[o].indexOf("o")) {
                    if (!qr(a, r, i, parseInt(e[o].substring(1), 10))) return;
                    i--;
                } else if (0 === e[o].indexOf("e")) {
                    var u = parseInt(e[o].substring(1), 10);
                    i > a[r - 1].length ? a[r][0] += u : a[r - 1][i - 1] = u, i--;
                } else "t" === e[o] && (i = 0);
            }
            for (var f = 0; f < t.divisions.length; f++) t.finish.push(new Array(t.divisions[f].length));
            for (var c = 0; c < t.divisions.length; c++) for (var s = 0; s < t.divisions[c].length; s++) {
                for (var l = c, h = s, d = 0; d < t.days; d++) {
                    for (h -= t.move[d][l][h]; h < 0; ) l--, h += t.move[d][l].length;
                    for (;h >= t.move[d][l].length; ) h -= t.move[d][l].length, l++;
                }
                t.finish[l][h] = t.divisions[c][s];
            }
        }(e), e;
    }, t.read_ad = function(t) {
        var e = {
            set: "Set",
            small: "Short",
            gender: "Gender",
            result: "",
            year: 1970,
            days: 1,
            divisions: [],
            results: [],
            move: [],
            finish: [],
            completed: []
        }, n = (t = t.split("\n"))[0].split(/\s+/);
        switch (n[0]) {
          case "EIGHTS":
            e.set = "Summer Eights", e.small = "Eights";
            break;

          case "TORPIDS":
            e.set = "Torpids", e.small = "Torpids";
        }
        e.year = +n[1];
        var r = t[1].trim().split(/\s+/);
        e.days = +r[0];
        for (var i = +r[1], a = parseInt(r[2], 10), o = void 0, u = [], f = [], c = 0; c < e.days + 1; c++) {
            u.push([]), f.push([]);
            for (var s = 0; s < a; s++) f[c].push(s);
        }
        switch (t[2].split(" ")[3]) {
          case "Mens":
          case "Men's":
            e.gender = "Men";
            break;

          case "Womens":
          case "Women's":
            e.gender = "Women";
        }
        for (var l = 2; l < i + a + 2; l++) if (" " === t[l][0]) o = [], e.divisions.push(o); else {
            for (var h = t[l].replace(/-?[0-9]+/g, "").trim(), d = t[l].replace(/([^\d- ]|-\D)/g, "").trim().split(/\s+/g), p = 0; p < e.days; p++) u[p].push(+d[p]);
            o.push(Lr(h)), u.push();
        }
        for (var v = 1; v < e.days + 1; v++) for (var g = 0; g < a; g++) f[v][g] = f[v - 1][g] - u[v - 1][g];
        for (var y = 0; y < e.days; y++) {
            var b = 0;
            e.move.push([]), e.completed.push([]);
            for (var m = 0; m < i; m++) {
                e.move[y].push([]), e.completed[y].push(!0);
                for (var _ = 0; _ < e.divisions[m].length; _++) e.move[y][m].push(u[y][f[y].indexOf(b)]), 
                b++;
            }
        }
        for (var w = [], x = 0; x < i; x++) for (var M = 0; M < e.divisions[x].length; M++) w.push(e.divisions[x][M]);
        for (var C = 0, S = 0; S < i; S++) {
            e.finish.push([]);
            for (var T = 0; T < e.divisions[S].length; T++) e.finish[S].push(w[f[e.days].indexOf(C)]), 
            C++;
        }
        return e = "Torpids" === e.set ? function(t) {
            for (var e = "", n = t.move, r = t.completed, i = t.divisions.length, a = 0; a < t.days; a++) {
                for (var o = 0, u = i - 1; u >= 0; u--) {
                    r[a][u] = !0;
                    var f = n[a][u];
                    o ? (e += "e" + o, o = 0) : u < i - 1 && (e += "r");
                    for (var c = f.length - 1; c >= 0; ) 0 === f[c] ? (e += "r", c -= 1) : f[c] > 0 && 0 === c ? (e += "r", 
                    c -= 1) : (e += "e" + f[c], c -= 1);
                    f[0] > 0 && (o = f[0]), u > 0 && (e += " ");
                }
                a < t.days - 1 && (e += "\n");
            }
            return t.results = e, t;
        }(e) : Vr(e);
    }, t.write_flat = function(t) {
        for (var e = "Year,Club,Sex,Day,Crew,Start position,Position,Division\n", n = 0; n < t.length; n++) {
            var r = t[n], i = r.divisions.slice();
            i.unshift([]);
            for (var a = Xr(i), o = 0; o < r.divisions.length; o++) for (var u = r.divisions[o], f = 0; f < u.length; f++) for (var c = u[f].split(" "), s = c.pop(), l = c.join(" "), h = f, d = void 0, p = o, v = void 0, g = 0; g < r.days; g++) 0 === g && (v = a[o] + h + 1), 
            (h -= r.move[g][p][h]) < 0 && o > 0 ? (h += r.divisions[p - 1].length, p -= 1) : h >= r.divisions[p].length && o < r.divisions.length && (h -= r.divisions[p].length, 
            p += 1), d = a[p] + h + 1, e += r.year + "," + l + "," + r.gender + "," + (g + 1) + "," + s + "," + v + "," + d + "," + (o + 1) + "\n";
        }
        return e;
    }, t.write_tg = function(t) {
        var e = "Set," + t.set + "\nShort," + t.small + "\nGender," + t.gender + "\nYear," + t.year + "\n";
        4 !== t.days && (e += "Days," + t.days + "\n"), e += "\n";
        for (var n = 0; n < t.divisions.length; n++) {
            e += "Division";
            for (var r = 0; r < t.divisions[n].length; r++) e += "," + t.divisions[n][r];
            e += "\n";
        }
        return e += "\nResults\n" + t.results;
    }, t.write_ad = function(t) {
        var e = void 0;
        switch (t.set) {
          case "Summer Eights":
            e = "EIGHTS";
            break;

          case "Torpids":
            e = "TORPIDS";
        }
        var n = t.divisions.reduce(function(t, e) {
            return t += e.length;
        }, 0), r = e + " " + t.year + "\n " + t.days + "  " + t.divisions.length + "  " + n + "   = NDay, NDiv, NCrew\n";
        return t.divisions.forEach(function(e, i) {
            var a = void 0;
            switch (t.gender) {
              case "Men":
                a = "Men's";
                break;

              case "Women":
                a = "Women's";
            }
            for (var o = [], u = [], f = 0; f < t.days + 1; f++) {
                o.push([]), u.push([]);
                for (var c = 0; c < n; c++) u[f].push(c);
            }
            var s = " " + e.length + "  " + a + " Div " + uc[i] + "\n";
            e.forEach(function(e, n) {
                var r = n, a = i;
                s += "" + function(t, e, n) {
                    t = cr(t);
                    var r = (e = Or(e)) ? kr(t) : 0;
                    return e && r < e ? t + Nr(e - r, n) : t;
                }(Fr(e, t.set), 25);
                for (var o = 0; o < t.days; o++) s += Pr(t.move[o][a][r], 4), (r -= t.move[o][a][r]) < 0 && (a -= 1, 
                r += t.divisions[a].length), r >= t.divisions[a].length && (r -= t.divisions[a].length, 
                a += 1);
                s += "\n";
            }), r += s;
        }), r;
    }, Object.defineProperty(t, "__esModule", {
        value: !0
    });
});